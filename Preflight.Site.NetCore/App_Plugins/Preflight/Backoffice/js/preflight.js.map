{"version":3,"sources":["node_modules/browser-pack/_prelude.js","src/Preflight/Backoffice/app.js","src/Preflight/Backoffice/components/_componentsModule.js","src/Preflight/Backoffice/components/card.component.js","src/Preflight/Backoffice/components/progress.directive.js","src/Preflight/Backoffice/components/resultintro.component.js","src/Preflight/Backoffice/components/stateicon.component.js","src/Preflight/Backoffice/controllers/_controllersModule.js","src/Preflight/Backoffice/controllers/notification.controller.js","src/Preflight/Backoffice/controllers/preflight.controller.js","src/Preflight/Backoffice/controllers/settings.controller.js","src/Preflight/Backoffice/interceptors/preflight.save.interceptor.js","src/Preflight/Backoffice/plugins/_pluginsModule.js","src/Preflight/Backoffice/plugins/linkhealth.result.component.js","src/Preflight/Backoffice/plugins/readability.plugin.controller.js","src/Preflight/Backoffice/resources/_servicesModule.js","src/Preflight/Backoffice/resources/preflight.hub.js","src/Preflight/Backoffice/resources/preflight.service.js"],"names":[],"mappings":"AAAA;;;ACAC;;AACD;;AACA;;AACA;;AAEA,IAAM,IAAI,GAAG,WAAb;AAEA,OAAO,CAAC,MAAR,CAAe,IAAf,EAAqB,CACjB,8BADiB,EAEjB,kCAFiB,EAGjB,oCAHiB,EAIjB,4BAJiB,CAArB;AAOA,OAAO,CAAC,MAAR,CAAe,SAAf,EAA0B,QAA1B,CAAmC,IAAnC,CAAwC,IAAxC;;;;;;;;;;ACdC;;AACD;;AACA;;AACA;;AAEO,IAAM,gBAAgB,GAAG,OAAO,CAClC,MAD2B,CACpB,sBADoB,EACI,EADJ,EAE3B,SAF2B,CAEjB,oBAAc,IAFG,EAEG,mBAFH,EAG3B,SAH2B,CAGjB,kCAAqB,IAHJ,EAGU,iCAHV,EAI3B,SAJ2B,CAIjB,8BAAmB,IAJF,EAIQ,6BAJR,EAK3B,SAL2B,CAKjB,kCAAwB,aALP,EAKsB;AAAA,SAAM,IAAI,iCAAJ,EAAN;AAAA,CALtB,EAM3B,IANE;;;;;;;;;;;;;;;;;;;ICLA,I;AAgBH,gBAAY,mBAAZ,EAAiC;AAAA;;AAAA;;AAAA,uCALrB,MAKqB;;AAAA,4CAJhB,YAIgB;;AAAA;;AAC7B,SAAK,mBAAL,GAA2B,mBAA3B;AACH;;;;WAED,mBAAU;AAAA;;AAEN,UAAI,KAAK,MAAT,EAAiB;AACb,aAAK,SAAL,GAAiB,MAAjB;AACA,aAAK,cAAL,GAAsB,YAAtB;AACH;;AAED,UAAI,KAAK,KAAL,CAAW,CAAX,MAAkB,GAAtB,EAA2B;AACvB,QAAA,mBAAmB,CAAC,QAApB,CAA6B,KAAK,KAAlC,EAAyC,KAAK,MAA9C,EACK,IADL,CACU,UAAA,cAAc;AAAA,iBAAI,KAAI,CAAC,KAAL,GAAa,cAAjB;AAAA,SADxB;AAEH;;AAED,UAAI,KAAK,QAAL,CAAc,CAAd,MAAqB,GAAzB,EAA8B;AAC1B,aAAK,mBAAL,CAAyB,QAAzB,CAAkC,KAAK,QAAvC,EAAiD,KAAK,MAAtD,EACK,IADL,CACU,UAAA,iBAAiB;AAAA,iBAAI,KAAI,CAAC,QAAL,GAAgB,iBAApB;AAAA,SAD3B;AAEH;AACJ;;;;;;AAGE,IAAM,aAAa,GAAG;AACzB,EAAA,UAAU,EAAE,IADa;AAEzB,EAAA,IAAI,EAAE,MAFmB;AAGzB,EAAA,QAAQ,EAAE;AACN,IAAA,KAAK,EAAE,IADD;AAEN,IAAA,QAAQ,EAAE,IAFJ;AAGN,IAAA,MAAM,EAAE,GAHF;AAIN,IAAA,KAAK,EAAE,GAJD;AAKN,IAAA,MAAM,EAAE;AALF,GAHe;AAUzB,EAAA,QAAQ,EAAE,IAAI,CAAC,QAVU;AAWzB,EAAA,UAAU,EAAE;AAXa,CAAtB;;;;;;;;;;;;;;;;;;;ICvCO,uB;;;;sCAIC,G;;qCACD,I;;mCACF;AACJ,MAAA,IAAI,EAAE,IADF;AAEJ,MAAA,UAAU,EAAE,GAFR;AAGJ,MAAA,IAAI,EAAE,GAHF;AAIJ,MAAA,UAAU,EAAE,GAJR;AAKJ,MAAA,UAAU,EAAE;AALR,K;;;;;;;WAqBR,cAAK,KAAL,EAAY,OAAZ,EAAqB;AACjB,eAAS,MAAT,GAAkB;AAEd;AACA,YAAI,OAAO,GAAG,IAAI,CAAC,KAAL,CAAW,KAAK,CAAC,UAAjB,CAAd;AACA,QAAA,OAAO,GAAG,OAAO,GAAG,GAAV,GAAgB,GAAhB,GAAsB,OAAO,IAAI,CAA3C,CAJc,CAMd;;AACA,YAAM,CAAC,GAAG,OAAO,CAAC,IAAR,CAAa,iCAAb,EAAgD,IAAhD,CAAqD,GAArD,CAAV;AACA,YAAM,UAAU,GAAG,CAAC,GAAG,IAAI,CAAC,EAAT,GAAc,CAAd,GAAkB,OAAlB,GAA4B,GAA/C,CARc,CAUd;;AACA,QAAA,KAAK,CAAC,SAAN,aAAqB,UAArB,UAXc,CAad;;AACA,QAAA,KAAK,CAAC,cAAN,GAAuB,KAAK,CAAC,IAAN,GAAa,GAAb,GAAmB,IAA1C,CAdc,CAgBd;;AACA,QAAA,KAAK,CAAC,KAAN,aAAiB,OAAjB;AACH;;AAED,UAAM,OAAO,GAAG,KAAK,CAAC,MAAN,CAAa,YAAb,EAA2B,MAA3B,CAAhB;AAEA,MAAA,KAAK,CAAC,GAAN,CAAU,UAAV,EAAsB,OAAO,EAA7B;AACH;;;;;;;;gBAnDS,uB,mBAEa,gB;;;;;;;;;;;;;;;;;;ICFpB,W;AACH;AACJ;AACA;AACA;AAQI,uBAAY,mBAAZ,EAAiC;AAAA;;AAAA;;AAC7B,SAAK,mBAAL,GAA2B,mBAA3B;AACH;;;;WAED,mBAAU;AAAA;;AACN,UAAI,KAAK,QAAL,CAAc,CAAd,MAAqB,GAAzB,EAA8B;AAC1B,aAAK,mBAAL,CAAyB,QAAzB,CAAkC,KAAK,QAAvC,EAAiD,KAAK,MAAtD,EACK,IADL,CACU,UAAA,iBAAiB;AAAA,iBAAI,KAAI,CAAC,QAAL,GAAgB,iBAApB;AAAA,SAD3B;AAEH;;AAED,UAAI,KAAK,OAAL,CAAa,CAAb,MAAoB,GAAxB,EAA6B;AACzB,aAAK,mBAAL,CAAyB,QAAzB,CAAkC,KAAK,OAAvC,EAAgD,KAAK,MAArD,EACK,IADL,CACU,UAAA,gBAAgB;AAAA,iBAAI,KAAI,CAAC,OAAL,GAAe,gBAAnB;AAAA,SAD1B;AAEH;AACJ;;;;;;gBA1BE,W;;AA6BA,IAAM,oBAAoB,GAAG;AAChC,EAAA,UAAU,EAAE,IADoB;AAEhC,EAAA,IAAI,EAAE,aAF0B;AAGhC,EAAA,QAAQ,EAAE;AACN,IAAA,MAAM,EAAE,GADF;AAEN,IAAA,QAAQ,EAAE,IAFJ;AAGN,IAAA,OAAO,EAAE,IAHH;AAIN,IAAA,IAAI,EAAE;AAJA,GAHsB;AAShC,EAAA,QAAQ,EAAE,WAAW,CAAC,QATU;AAUhC,EAAA,UAAU,EAAE;AAVoB,CAA7B;;;;;;;;;;;;;;;;;;;IC7BA,S;;;;kCAOI,O;;uCACK,U;;;;;WAEZ,mBAAU;AACN,UAAI,CAAC,KAAK,QAAV,EAAoB;AAChB,aAAK,IAAL,GAAY,KAAK,MAAL,GAAc,QAAd,GAAyB,OAArC;AACA,aAAK,SAAL,GAAiB,KAAK,MAAL,GAAc,MAAd,GAAuB,MAAxC;AACH;AACJ;;;;;;gBAfE,S;;AAkBA,IAAM,kBAAkB,GAAG;AAC9B,EAAA,UAAU,EAAE,IADkB;AAE9B,EAAA,IAAI,EAAE,WAFwB;AAG9B,EAAA,QAAQ,EAAE;AACN,IAAA,MAAM,EAAE,GADF;AAEN,IAAA,QAAQ,EAAE;AAFJ,GAHoB;AAO9B,EAAA,QAAQ,EAAE,SAAS,CAAC,QAPU;AAQ9B,EAAA,UAAU,EAAE;AARkB,CAA3B;;;;;;;;;;;AClBN;;AACD;;AACA;;AAEO,IAAM,iBAAiB,GAAG,OAAO,CACnC,MAD4B,CACrB,uBADqB,EACI,EADJ,EAE5B,UAF4B,CAEjB,+BAAoB,cAFH,EAEmB,8BAFnB,EAG5B,UAH4B,CAGjB,qCAAuB,cAHN,EAGsB,oCAHtB,EAI5B,UAJ4B,CAIjB,6BAAmB,cAJF,EAIkB,4BAJlB,EAK5B,IALE;;;;;;;;;;;;;;;ICJO,sB,GAUV,gCAAY,UAAZ,EAAwB,oBAAxB,EAA8C,WAA9C,EAA2D;AAAA;;AAAA;;AAAA;;AAAA;;AAAA;;AAAA;;AAAA,kCAQlD,UAAA,CAAC,EAAI;AACV,IAAA,KAAI,CAAC,UAAL,CAAgB,KAAhB,CAAsB,eAAtB,EAAuC;AAAE,MAAA,MAAM,EAAE,KAAI,CAAC,WAAL,CAAiB,OAAjB,CAAyB;AAAnC,KAAvC;;AACA,IAAA,KAAI,CAAC,OAAL,CAAa,CAAb;AACH,GAX0D;;AAAA,mCAajD,UAAA,CAAC,EAAI;AACX,IAAA,KAAI,CAAC,oBAAL,CAA0B,MAA1B,CAAiC,CAAjC;AACH,GAf0D;;AACvD,OAAK,UAAL,GAAkB,UAAlB;AACA,OAAK,oBAAL,GAA4B,oBAA5B;AACA,OAAK,WAAL,GAAmB,WAAnB;AAEA,OAAK,aAAL,GAAqB,CAAC,oBAAoB,CAAC,OAArB,CAA6B,CAA7B,EAAgC,IAAhC,CAAqC,aAAtC,KAAwD,CAA7E;AACH,C;;;;gBAhBS,sB,oBAEc,mC;;;;;;;;;;;;;;;;;;;;;;;;;;ICFd,mB;AA0BV,+BAAY,MAAZ,EAAoB,UAApB,EAAgC,QAAhC,EAA0C,QAA1C,EAAoD,WAApD,EAAiE,gBAAjE,EAAmF,YAAnF,EAAiG;AAAA;;AAAA;;AAAA;;AAAA;;AAAA;;AAAA;;AAAA;;AAAA;;AAAA;;AAAA,yCAdnF,EAcmF;;AAAA;;AAAA,+CAZ7E,EAY6E;;AAAA,+CAX7E,EAW6E;;AAAA,wCAVpF,EAUoF;;AAAA,qCARvF;AACN,MAAA,UAAU,EAAE;AADN,KAQuF;;AAAA,qCAJvF,KAIuF;;AAAA,4CAHhF,EAGgF;;AAAA,0CAFlF,CAEkF;;AAAA,sCA8CtF,UAAA,GAAG,EAAI;AACd,UAAI,MAAJ;;AACA,UAAI,GAAG,CAAC,MAAJ,KAAe,CAAnB,EAAsB;AAClB,QAAA,MAAM,GAAG,GAAG,CAAC,CAAD,CAAZ;AACH,OAFD,MAEO,IAAI,GAAG,CAAC,MAAJ,KAAe,CAAnB,EAAsB;AACzB,QAAA,MAAM,GAAG,GAAG,CAAC,IAAJ,CAAS,OAAT,CAAT;AACH,OAFM,MAEA,IAAI,GAAG,CAAC,MAAJ,GAAa,CAAjB,EAAoB;AACvB,QAAA,MAAM,GAAG,GAAG,CAAC,KAAJ,CAAU,CAAV,EAAa,CAAC,CAAd,EAAiB,IAAjB,CAAsB,IAAtB,IAA8B,QAA9B,GAAyC,GAAG,CAAC,KAAJ,CAAU,CAAC,CAAX,CAAlD;AACH;;AAED,aAAO,MAAP;AACH,KAzDgG;;AAAA,qCAiEvF,UAAA,CAAC;AAAA,aAAI,CAAC,GAAG,CAAC,CAAC,KAAF,CAAQ,EAAR,EAAY,MAAZ,CAAmB,UAAC,CAAD,EAAI,CAAJ,EAAU;AAC5C,QAAA,CAAC,GAAG,CAAC,CAAC,IAAI,CAAN,IAAW,CAAX,GAAe,CAAC,CAAC,UAAF,CAAa,CAAb,CAAnB;AACA,eAAO,CAAC,GAAG,CAAX;AACH,OAHkB,EAGhB,CAHgB,CAAH,GAGR,CAHG;AAAA,KAjEsF;;AAAA,yCA2EnF,UAAA,KAAK,EAAI;AAAA,iDACH,KAAI,CAAC,WAAL,CAAiB,OAAjB,CAAyB,QAAzB,CAAkC,IAAlC,CAAuC,UAAA,CAAC;AAAA,eAAI,CAAC,CAAC,MAAN;AAAA,OAAxC,EAAsD,IADnD;AAAA;;AAAA;AACnB,4DAA4E;AAAA,cAAnE,GAAmE;;AAAA,sDACvD,GAAG,CAAC,UADmD;AAAA;;AAAA;AACxE,mEAAiC;AAAA,kBAAxB,IAAwB;;AAC7B,kBAAI,IAAI,CAAC,KAAL,KAAe,KAAnB,EAA0B;AACtB,uBAAO,IAAP;AACH;AACJ;AALuE;AAAA;AAAA;AAAA;AAAA;AAM3E;AAPkB;AAAA;AAAA;AAAA;AAAA;AAQtB,KAnFgG;;AAAA,wCA0FpF,YAAM;AACf;AACA,MAAA,KAAI,CAAC,OAAL,GAAe,KAAI,CAAC,OAAL,CAAa,UAAb,CAAwB,KAAxB,CAA8B,UAAA,CAAC;AAAA,eAAI,CAAC,CAAC,CAAC,OAAF,CAAU,MAAf;AAAA,OAA/B,CAAf;;AACA,UAAI,KAAI,CAAC,OAAT,EAAkB;AACd,QAAA,KAAI,CAAC,MAAL,CAAY,KAAZ,CAAkB,KAAlB,GAA0B,SAA1B;AACH;;AALc,kDAOD,KAAI,CAAC,OAAL,CAAa,UAPZ;AAAA;;AAAA;AAOf,+DAAuC;AAAA,cAA9B,CAA8B;AACnC,UAAA,CAAC,CAAC,QAAF,GAAa,CAAC,CAAC,WAAF,KAAkB,CAAC,CAAhC;AACH;AATc;AAAA;AAAA;AAAA;AAAA;;AAWf,MAAA,KAAI,CAAC,kBAAL,GAA0B,CAAC,KAAI,CAAC,OAAL,CAAa,MAAd,IAAwB,CAAC,KAAI,CAAC,OAAxD;AACA,MAAA,KAAI,CAAC,IAAL,GAAY,IAAZ;AACH,KAvGgG;;AAAA,4CA6GhF,UAAA,MAAM;AAAA,aAAI,MAAM,KAAK,cAAX,IAA6B,MAAM,KAAK,uBAA5C;AAAA,KA7G0E;;AAAA,2CAmHjF,UAAA,OAAO,EAAI;AACvB,UAAI,OAAJ,EAAa;AACT,QAAA,KAAI,CAAC,MAAL,CAAY,KAAZ,CAAkB,KAAlB,GAA0B;AACtB,UAAA,IAAI,EAAE;AADgB,SAA1B;AAGA;AACH;;AAED,UAAI,KAAI,CAAC,OAAL,IAAgB,KAAI,CAAC,OAAL,CAAa,WAAb,GAA2B,CAA/C,EAAkD;AAC9C,QAAA,KAAI,CAAC,MAAL,CAAY,KAAZ,CAAkB,KAAlB,GAA0B;AACtB,UAAA,KAAK,EAAE,KAAI,CAAC,OAAL,CAAa,WADE;AAEtB,UAAA,IAAI,EAAE;AAFgB,SAA1B;AAIH,OALD,MAKO;AACH,QAAA,KAAI,CAAC,MAAL,CAAY,KAAZ,CAAkB,KAAlB,GAA0B;AACtB,UAAA,IAAI,EAAE;AADgB,SAA1B;AAGH;AACJ,KArIgG;;AAAA,0CA4IlF,UAAA,IAAI,EAAI;AAEnB,UAAI,OAAO,GAAG,IAAd;AACA,UAAI,aAAa,GAAG,CAApB;;AACA,UAAI,YAAY,GAAG,KAAI,CAAC,OAAL,CAAa,UAAb,CAAwB,IAAxB,CAA6B,UAAA,CAAC;AAAA,eAAI,CAAC,CAAC,KAAF,KAAY,IAAI,CAAC,KAArB;AAAA,OAA9B,CAAnB;;AAEA,UAAI,YAAJ,EAAkB;AACd,QAAA,YAAY,GAAG,SAAc,YAAd,EAA4B,IAA5B,CAAf;AACA,QAAA,YAAY,CAAC,OAAb,GAAuB,KAAvB;AACA,QAAA,OAAO,GAAG,KAAV;AACH,OAVkB,CAYnB;AACA;;;AACA,UAAI,OAAO,IAAI,CAAC,IAAI,CAAC,MAAjB,IAA2B,IAAI,CAAC,WAAL,KAAqB,CAAC,CAArD,EAAwD;AACpD,YAAM,SAAS,GAAG,KAAI,CAAC,OAAL,CAAa,UAAb,CAAwB,SAAxB,CAAkC,UAAA,CAAC;AAAA,iBAAI,CAAC,CAAC,IAAF,eAAc,IAAI,CAAC,IAAnB,UAAJ;AAAA,SAAnC,CAAlB;;AACA,YAAI,SAAS,KAAK,CAAC,CAAnB,EAAsB;AAClB,UAAA,KAAI,CAAC,OAAL,CAAa,UAAb,CAAwB,MAAxB,CAA+B,SAA/B,EAA0C,CAA1C;AACH;;AACD,QAAA,KAAI,CAAC,OAAL,CAAa,UAAb,CAAwB,IAAxB,CAA6B,IAA7B;AACH;;AAED,MAAA,KAAI,CAAC,OAAL,CAAa,UAAb,GAA0B,KAAI,CAAC,OAAL,CAAa,UAAb,CAAwB,MAAxB,CAA+B,UAAA,CAAC;AAAA,eAAI,CAAC,CAAC,MAAF,KAAa,KAAjB;AAAA,OAAhC,CAA1B;AACA,MAAA,KAAI,CAAC,OAAL,CAAa,UAAb,GAA0B,KAAI,CAAC,OAAL,CAAa,UAAb,CAAwB,MAAxB,CAA+B,UAAA,CAAC;AAAA,eAAI,CAAC,CAAC,WAAF,GAAgB,CAAC,CAArB;AAAA,OAAhC,CAA1B;AAEA,MAAA,KAAI,CAAC,OAAL,CAAa,WAAb,GAA2B,KAAI,CAAC,OAAL,CAAa,UAAb,CAAwB,MAAxB,CAA+B,UAAC,IAAD,EAAO,GAAP,EAAe;AACrE,QAAA,aAAa,IAAI,GAAG,CAAC,UAArB;AACA,eAAO,IAAI,GAAG,GAAG,CAAC,WAAlB;AACH,OAH0B,EAGxB,CAHwB,CAA3B;AAKA,MAAA,KAAI,CAAC,OAAL,CAAa,MAAb,GAAsB,KAAI,CAAC,OAAL,CAAa,WAAb,GAA2B,CAAjD;AACA,MAAA,KAAI,CAAC,oBAAL,GAA4B,KAAI,CAAC,QAAL,CAAc,KAAI,CAAC,iBAAL,CAAuB,MAAvB,CAA8B,KAAI,CAAC,iBAAL,CAAuB,OAAvB,CAA+B,IAAI,CAAC,IAApC,CAA9B,EAAyE,CAAzE,CAAd,CAA5B;AACA,MAAA,KAAI,CAAC,gBAAL,GAAwB,CAAC,aAAa,GAAG,KAAI,CAAC,OAAL,CAAa,WAA9B,IAA6C,aAA7C,GAA6D,GAArF;AACH,KA7KgG;;AAAA,wCAoLpF,YAAM;AAEf,MAAA,KAAI,CAAC,UAAL,GAAkB,EAAlB;AACA,MAAA,KAAI,CAAC,QAAL,GAAgB,KAAhB;;AAHe,kDAKE,KAAI,CAAC,iBALP;AAAA;;AAAA;AAKf,+DAAyC;AAAA,cAAhC,IAAgC;;AACrC,cAAI,YAAY,GAAG,KAAI,CAAC,WAAL,CAAiB,IAAI,CAAC,KAAtB,EAA6B,KAAhD;;AACA,UAAA,YAAY,GAAG,KAAI,CAAC,cAAL,CAAoB,IAAI,CAAC,MAAzB,IAAmC,IAAI,CAAC,SAAL,CAAe,YAAf,CAAnC,GAAkE,YAAjF;;AAEA,cAAM,IAAI,GAAG,KAAI,CAAC,OAAL,CAAa,YAAb,CAAb;;AAEA,cAAI,KAAI,CAAC,WAAL,CAAiB,IAAI,CAAC,KAAtB,KAAgC,KAAI,CAAC,WAAL,CAAiB,IAAI,CAAC,KAAtB,MAAiC,IAArE,EAA2E;AAEvE,YAAA,KAAI,CAAC,UAAL,CAAgB,IAAhB,CAAqB;AACjB,cAAA,IAAI,EAAE,IAAI,CAAC,KADM;AAEjB,cAAA,KAAK,EAAE,YAFU;AAGjB,cAAA,MAAM,EAAE,IAAI,CAAC;AAHI,aAArB;;AAMA,YAAA,KAAI,CAAC,WAAL,CAAiB,IAAI,CAAC,KAAtB,IAA+B,IAA/B;AACA,YAAA,KAAI,CAAC,QAAL,GAAgB,IAAhB;AACH,WAVD,MAUO,IAAI,CAAC,KAAI,CAAC,WAAL,CAAiB,IAAI,CAAC,KAAtB,CAAL,EAAmC;AACtC,YAAA,KAAI,CAAC,WAAL,CAAiB,IAAI,CAAC,KAAtB,IAA+B,IAA/B;AACH;AACJ,SAxBc,CA0Bf;AACA;;AA3Be;AAAA;AAAA;AAAA;AAAA;;AA4Bf,UAAI,KAAI,CAAC,QAAT,EAAmB;AACf,QAAA,KAAI,CAAC,QAAL,CAAc,YAAM;AAEhB,UAAA,KAAI,CAAC,UAAL,CAAgB,OAAhB,CAAwB,UAAA,IAAI,EAAI;AAAA,wDACP,KAAI,CAAC,OAAL,CAAa,UAAb,CAAwB,MAAxB,CAA+B,UAAA,CAAC;AAAA,qBAAI,CAAC,CAAC,IAAF,KAAW,IAAI,CAAC,IAApB;AAAA,aAAhC,CADO;AAAA;;AAAA;AAC5B,qEAAgF;AAAA,oBAAvE,QAAuE;;AAC5E,oBAAI,QAAJ,EAAc;AACV,kBAAA,QAAQ,CAAC,IAAT,GAAgB,KAAhB;AACA,kBAAA,QAAQ,CAAC,WAAT,GAAuB,CAAC,CAAxB;AACH,iBAHD,MAGO;AACH;AACA,kBAAA,KAAI,CAAC,OAAL,CAAa,UAAb,CAAwB,IAAxB,CAA6B;AACzB,oBAAA,KAAK,EAAE,IAAI,CAAC,IADa;AAEzB,oBAAA,IAAI,EAAE,KAFmB;AAGzB,oBAAA,MAAM,EAAE,KAHiB;AAIzB,oBAAA,WAAW,EAAE,CAAC,CAJW;AAKzB,oBAAA,IAAI,YAAK,IAAI,CAAC,IAAV;AALqB,mBAA7B;AAOH;AACJ;AAf2B;AAAA;AAAA;AAAA;AAAA;;AAiB5B,YAAA,KAAI,CAAC,iBAAL,CAAuB,IAAvB,CAA4B,IAAI,CAAC,IAAjC;AACH,WAlBD;;AAoBA,UAAA,KAAI,CAAC,oBAAL,GAA4B,KAAI,CAAC,QAAL,CAAc,KAAI,CAAC,iBAAnB,CAA5B;AAEA,cAAM,OAAO,GAAG;AACZ,YAAA,UAAU,EAAE,KAAI,CAAC,UADL;AAEZ,YAAA,MAAM,EAAE,KAAI,CAAC,WAAL,CAAiB,OAAjB,CAAyB;AAFrB,WAAhB;;AAKA,UAAA,KAAI,CAAC,aAAL,CAAmB,IAAnB;;AACA,UAAA,KAAI,CAAC,IAAL,GAAY,KAAZ;;AAEA,UAAA,KAAI,CAAC,gBAAL,CAAsB,UAAtB,CAAiC,OAAjC;AACH,SAjCD;AAkCH;AACJ,KApPgG;;AAAA,yCAyPnF,YAAM;AAEhB,MAAA,KAAI,CAAC,YAAL,CAAkB,OAAlB,CAA0B,UAAA,GAAG,EAAI;AAE7B,QAAA,GAAG,CAAC,EAAJ,CAAO,eAAP,EACI,UAAA,CAAC,EAAI;AACD,UAAA,KAAI,CAAC,YAAL,CAAkB,CAAlB;;AACA,UAAA,KAAI,CAAC,aAAL;AACH,SAJL;AAMA,QAAA,GAAG,CAAC,EAAJ,CAAO,mBAAP,EACI;AAAA,iBAAM,KAAI,CAAC,UAAL,EAAN;AAAA,SADJ;AAIA,QAAA,GAAG,CAAC,KAAJ,CAAU,UAAA,CAAC,EAAI;AACX;AAChB;AACA;AACA;AACgB,UAAA,KAAI,CAAC,QAAL,CAAc,YAAM;AAChB,YAAA,KAAI,CAAC,aAAL,CAAmB,IAAnB;;AACA,YAAA,KAAI,CAAC,UAAL,GAFgB,CAEG;;;AACnB,YAAA,KAAI,CAAC,gBAAL,CAAsB,KAAtB,CAA4B,KAAI,CAAC,WAAL,CAAiB,OAAjB,CAAyB,EAArD;AACH,WAJD;AAKH,SAVD;AAWH,OAvBD;AAwBH,KAnRgG;;AAC7F,SAAK,MAAL,GAAc,MAAd;AACA,SAAK,UAAL,GAAkB,UAAlB;AACA,SAAK,QAAL,GAAgB,QAAhB;AACA,SAAK,QAAL,GAAgB,QAAhB;AACA,SAAK,WAAL,GAAmB,WAAnB;AACA,SAAK,gBAAL,GAAwB,gBAAxB;AACA,SAAK,YAAL,GAAoB,YAApB;AAEA,SAAK,cAAL,GAAsB,OAAO,CAAC,GAAR,CAAY,eAAZ,CAA4B,SAA5B,CAAsC,oBAA5D;AAEA,SAAK,MAAL,CAAY,KAAZ,CAAkB,KAAlB,GAA0B;AACtB,MAAA,IAAI,EAAE;AADgB,KAA1B;AAIA,IAAA,UAAU,CAAC,GAAX,CAAe,eAAf,EAAgC,UAAC,CAAD,EAAI,IAAJ,EAAa;AACzC,UAAI,IAAI,CAAC,KAAL,KAAe,WAAnB,EAAgC;AAC5B;AAD4B,oDAET,QAAQ,CAAC,gBAAT,CAA0B,mEAA1B,CAFS;AAAA;;AAAA;AAAA;AAAA,gBAEnB,MAFmB;AAGxB,YAAA,QAAQ,CAAC;AAAA,qBAAM,MAAM,CAAC,KAAP,EAAN;AAAA,aAAD,CAAR;AAHwB;;AAE5B,iEAAmH;AAAA;AAElH;AAJ2B;AAAA;AAAA;AAAA;AAAA;;AAM5B,QAAA,QAAQ,CAAC,YAAM;AACX,UAAA,KAAI,CAAC,UAAL;;AACA,UAAA,KAAI,CAAC,aAAL;AACH,SAHO,CAAR;AAIH;AACJ,KAZD;AAcA,IAAA,UAAU,CAAC,GAAX,CAAe,eAAf,EAAgC,UAAC,KAAD,EAAQ,IAAR,EAAiB;AAC7C,UAAI,IAAI,CAAC,MAAL,KAAgB,MAAM,CAAC,OAAP,CAAe,EAAnC,EAAuC;AACnC;AACA,YAAM,OAAO,GAAG,QAAQ,CAAC,OAAT,CAAiB,MAAjB,EAAyB,IAAzB,CAA8B,qCAA9B,CAAhB;;AAEA,YAAI,OAAJ,EAAa;AACT,UAAA,OAAO,CAAC,KAAR;AACH;AACJ;AACJ,KATD;AAUH;AAGD;AACJ;AACA;AACA;;;;;WAwOI,mBAAU;AAAA;;AACN,UAAM,aAAa,GAAG,KAAK,WAAL,CAAiB,OAAjB,CAAyB,QAAzB,CAAkC,IAAlC,CAAuC,UAAA,CAAC;AAAA,eAAI,CAAC,CAAC,MAAN;AAAA,OAAxC,CAAtB;;AACA,UAAI,aAAJ,EAAmB;AACf,QAAA,aAAa,CAAC,IAAd,CAAmB,OAAnB,CAA2B,UAAA,CAAC,EAAI;AAC5B,UAAA,MAAI,CAAC,iBAAL,GAAyB,MAAI,CAAC,iBAAL,CAAuB,MAAvB,CAA8B,CAAC,CAAC,UAAF,CAAa,GAAb,CAAiB,UAAA,CAAC,EAAI;AACzE,gBAAI,MAAI,CAAC,cAAL,CAAoB,QAApB,CAA6B,CAAC,CAAC,MAA/B,CAAJ,EAA4C;AACxC,qBAAO;AACH,gBAAA,MAAM,EAAE,CAAC,CAAC,MADP;AAEH,gBAAA,KAAK,EAAE,CAAC,CAAC,KAFN;AAGH,gBAAA,KAAK,EAAE,CAAC,CAAC;AAHN,eAAP;AAKH;AACJ,WARsD,CAA9B,EAQrB,MARqB,CAQd,UAAA,CAAC;AAAA,mBAAI,CAAJ;AAAA,WARa,CAAzB;AASH,SAVD,EADe,CAaf;;AACA,YAAI,KAAK,iBAAL,CAAuB,MAA3B,EAAmC;AAC/B,eAAK,WAAL;AACH;AACJ;AACJ;;;;;;;;gBAnUS,mB,oBAEc,sB;;;;;;;;;;;;;;;;;;;;;;;;ICFd,kB;AAQV,8BAAY,MAAZ,EAAoB,oBAApB,EAA0C,gBAA1C,EAA4D;AAAA;;AAAA;;AAAA;;AAAA;;AAAA;;AAAA,qDAMlC,YAAM;AAC5B,UAAI,kBAAkB,GAAG,KAAI,CAAC,QAAL,CAAc,MAAd,CAAqB,UAAA,CAAC;AAAA,eAAI,CAAC,CAAC,KAAF,CAAQ,OAAR,CAAgB,kBAAhB,MAAwC,CAAC,CAAzC,IAA8C,CAAC,CAAC,KAAF,KAAY,kBAA9D;AAAA,OAAtB,CAAzB;;AACA,MAAA,KAAI,CAAC,MAAL,CAAY,MAAZ,CAAmB;AAAA,eAAM,KAAI,CAAC,QAAL,CAAc,IAAd,CAAmB,UAAA,CAAC;AAAA,iBAAI,CAAC,CAAC,KAAF,KAAY,kBAAhB;AAAA,SAApB,EAAwD,KAA9D;AAAA,OAAnB,EAAwF,UAAA,MAAM,EAAI;AAC9F,YAAI,MAAJ,EAAY;AAAA,qDACS,kBADT;AAAA;;AAAA;AACR,gEAAqC;AAAA,kBAA5B,IAA4B;;AACjC;AADiC,0DAEZ,QAAQ,CAAC,gBAAT,gCAAiD,IAAI,CAAC,KAAtD,SAFY;AAAA;;AAAA;AAEjC,uEAAuF;AAAA,sBAA9E,QAA8E;AACnF,kBAAA,QAAQ,CAAC,aAAT,CAAuB,iBAAvB,EAA0C,SAA1C,CAAoD,MAAM,CAAC,OAAP,CAAe,QAAQ,CAAC,YAAT,CAAsB,OAAtB,CAAf,MAAmD,CAAC,CAApD,GAAwD,KAAxD,GAAgE,QAApH,EAA8H,aAA9H;AACH;AAJgC;AAAA;AAAA;AAAA;AAAA;AAKpC;AANO;AAAA;AAAA;AAAA;AAAA;AAOX;AACJ,OATD,EASG,IATH;AAUH,KAlB2D;;AAAA,0CAmE7C,YAAM;AAEjB,UAAM,GAAG,GAAG,QAAQ,CAAC,KAAI,CAAC,QAAL,CAAc,MAAd,CAAqB,UAAA,CAAC;AAAA,eAAI,CAAC,CAAC,KAAF,KAAY,0BAAhB;AAAA,OAAtB,EAAkE,CAAlE,EAAqE,KAAtE,CAApB;AACA,UAAM,GAAG,GAAG,QAAQ,CAAC,KAAI,CAAC,QAAL,CAAc,MAAd,CAAqB,UAAA,CAAC;AAAA,eAAI,CAAC,CAAC,KAAF,KAAY,0BAAhB;AAAA,OAAtB,EAAkE,CAAlE,EAAqE,KAAtE,CAApB;;AAEA,UAAI,GAAG,GAAG,GAAV,EAAe;AAEX,YAAI,GAAG,GAAG,EAAN,GAAW,GAAf,EAAoB;AAChB,UAAA,KAAI,CAAC,oBAAL,CAA0B,OAA1B,CAAkC,SAAlC,EAA6C,6BAA7C;AACH,SAJU,CAMX;AACA;;;AACA,YAAM,cAAc,GAAG,IAAI,CAAC,KAAL,CAAW,IAAI,CAAC,SAAL,CAAe,KAAI,CAAC,QAApB,CAAX,CAAvB;AAEA,QAAA,cAAc,CAAC,OAAf,CAAuB,UAAA,CAAC,EAAI;AACxB,cAAI,CAAC,CAAC,IAAF,CAAO,OAAP,CAAe,iBAAf,MAAsC,CAAC,CAA3C,EAA8C;AAC1C,YAAA,CAAC,CAAC,KAAF,GAAU,CAAC,CAAC,KAAF,CAAQ,GAAR,CAAY,UAAA,CAAC;AAAA,qBAAI,CAAC,CAAC,KAAN;AAAA,aAAb,EAA0B,IAA1B,CAA+B,GAA/B,CAAV;AACH,WAFD,MAEO,IAAI,CAAC,CAAC,IAAF,CAAO,OAAP,CAAe,cAAf,MAAmC,CAAC,CAAxC,EAA2C;AAC9C,YAAA,CAAC,CAAC,KAAF,GAAU,CAAC,CAAC,KAAF,CAAQ,IAAR,CAAa,GAAb,CAAV;AACH;AACJ,SAND;;AAQA,QAAA,KAAI,CAAC,gBAAL,CAAsB,YAAtB,CAAmC,cAAnC,EAAmD,KAAI,CAAC,IAAxD,EACK,IADL,CACU,UAAA,IAAI,EAAI;AACV,UAAA,IAAI,CAAC,IAAL,GACM,KAAI,CAAC,oBAAL,CAA0B,OAA1B,CAAkC,SAAlC,EAA6C,kBAA7C,CADN,GAEM,KAAI,CAAC,oBAAL,CAA0B,KAA1B,CAAgC,OAAhC,EAAyC,yBAAzC,CAFN,CADU,CAKV;;AACA,UAAA,KAAI,CAAC,MAAL,CAAY,qBAAZ,CAAkC,YAAlC;AACH,SARL;AASH,OA3BD,MA4BK;AACD,QAAA,KAAI,CAAC,oBAAL,CAA0B,KAA1B,CAAgC,OAAhC,EACI,0FADJ;AAEH;AACJ,KAxG2D;;AACxD,SAAK,MAAL,GAAc,MAAd;AACA,SAAK,oBAAL,GAA4B,oBAA5B;AACA,SAAK,gBAAL,GAAwB,gBAAxB;AACH;;;;WAgBD,mBAAU;AAAA;;AACN,WAAK,gBAAL,CAAsB,WAAtB,GACK,IADL,CACU,UAAA,IAAI,EAAI;AACV,QAAA,MAAI,CAAC,QAAL,GAAgB,IAAI,CAAC,IAAL,CAAU,QAA1B;AACA,QAAA,MAAI,CAAC,IAAL,GAAY,IAAI,CAAC,IAAL,CAAU,IAAtB;;AAEA,QAAA,MAAI,CAAC,QAAL,CAAc,OAAd,CAAsB,UAAA,CAAC,EAAI;AACvB,cAAI,CAAC,CAAC,IAAF,CAAO,OAAP,CAAe,QAAf,MAA6B,CAAC,CAAlC,EAAqC;AACjC,YAAA,CAAC,CAAC,MAAF,GAAW;AACP,cAAA,MAAM,EAAE,OADD;AAEP,cAAA,QAAQ,EAAE,CAAC,CAAC,KAAF,KAAY,mBAAZ,GAAkC,CAAlC,GAAsC,EAFzC;AAGP,cAAA,MAAM,EAAE,CAAC,CAAC,KAAF,KAAY,mBAAZ,GAAkC,EAAlC,GAAuC,GAHxC;AAIP,cAAA,MAAM,EAAE,CAJD;AAKP,cAAA,WAAW,EAAE,YALN;AAMP,cAAA,IAAI,EAAE,CANC;AAOP,cAAA,OAAO,EAAE,QAPF;AAQP,cAAA,eAAe,EAAE;AARV,aAAX;AAUH,WAXD,MAWO,IAAI,CAAC,CAAC,IAAF,CAAO,OAAP,CAAe,iBAAf,MAAsC,CAAC,CAA3C,EAA8C;AAEjD,YAAA,CAAC,CAAC,KAAF,GAAU,CAAC,CAAC,KAAF,CAAQ,KAAR,CAAc,GAAd,EAAmB,GAAnB,CAAuB,UAAA,GAAG,EAAI;AACpC,qBAAO;AAAE,gBAAA,KAAK,EAAE;AAAT,eAAP;AACH,aAFS,EAEP,IAFO,CAEF,UAAC,CAAD,EAAI,CAAJ;AAAA,qBAAU,CAAC,GAAG,CAAd;AAAA,aAFE,CAAV;AAIA,YAAA,CAAC,CAAC,MAAF,GAAW;AACP,cAAA,GAAG,EAAE,CADE;AAEP,cAAA,GAAG,EAAE;AAFE,aAAX;AAKA,YAAA,CAAC,CAAC,UAAF,GAAe,EAAf;AACH,WAZM,MAYA,IAAI,CAAC,CAAC,IAAF,CAAO,OAAP,CAAe,cAAf,MAAmC,CAAC,CAAxC,EAA2C;AAE9C,YAAA,CAAC,CAAC,KAAF,GAAU,CAAC,CAAC,KAAF,CAAQ,KAAR,CAAc,GAAd,CAAV;AAEA,YAAA,CAAC,CAAC,MAAF,GAAW;AACP,cAAA,KAAK,EAAE,CAAC,CAAC;AADF,aAAX;AAGH;AACJ,SAhCD;;AAkCA,QAAA,MAAI,CAAC,uBAAL;AACH,OAxCL;AAyCH;AAED;AACJ;AACA;;;;;;;;;gBA1Ec,kB,oBAEc,+B;;;;;ACF3B,CAAC,YAAM;AAEJ,MAAM,WAAW,GAAG,8BAApB;;AAEA,WAAS,WAAT,CAAqB,oBAArB,EAA2C,EAA3C,EAA+C,SAA/C,EAA0D;AAEtD,QAAM,UAAU,GAAG,SAAb,UAAa,CAAA,iBAAiB,EAAI;AACpC;AACA,UAAI,aAAa,GAAG,iBAAiB,CAAC,SAAlB,CAA4B,MAA5B,CAAmC,UAAA,CAAC;AAAA,eAAI,iBAAiB,CAAC,KAAlB,CAAwB,QAAxB,CAAiC,CAAC,CAAC,KAAnC,CAAJ;AAAA,OAApC,EAAmF,GAAnF,CAAuF,UAAA,CAAC;AAAA,eAAI,CAAC,CAAC,GAAN;AAAA,OAAxF,CAApB;AAEA,MAAA,SAAS,CAAC,MAAV,CAAiB,CAAC,cAAD,EAAiB,UAAA,YAAY,EAAI;AAC9C,QAAA,YAAY,CAAC,cAAb,GACK,IADL,CACU,UAAA,WAAW,EAAI;AACjB,cAAI,aAAa,CAAC,IAAd,CAAmB,UAAA,CAAC;AAAA,mBAAI,WAAW,CAAC,UAAZ,CAAuB,QAAvB,CAAgC,CAAhC,CAAJ;AAAA,WAApB,CAAJ,EAAiE;AAC7D,YAAA,oBAAoB,CAAC,GAArB,CAAyB;AACrB,cAAA,GAAG,EAAE,kBADgB;AAErB,cAAA,IAAI,YAAK,OAAO,CAAC,GAAR,CAAY,eAAZ,CAA4B,SAA5B,CAAsC,UAA3C;AAFiB,aAAzB;AAIH;AACJ,SARL;AASH,OAVgB,CAAjB;AAWH,KAfD;;AAiBA,WAAO;AACH,MAAA,OAAO,EAAE,iBAAA,QAAO,EAAI;AAChB,YAAI,QAAO,CAAC,GAAR,CAAY,WAAZ,GAA0B,OAA1B,CAAkC,WAAlC,MAAmD,CAAC,CAAxD,EAA2D;AACvD,UAAA,SAAS,CAAC,MAAV,CAAiB,CAAC,kBAAD,EAAqB,UAAA,CAAC,EAAI;AACvC,YAAA,CAAC,CAAC,WAAF,GACK,IADL,CACU,UAAA,IAAI,EAAI;AACV,kBAAM,QAAQ,GAAG,IAAI,CAAC,IAAL,CAAU,QAA3B;AACA,kBAAM,SAAS,GAAG,QAAQ,CAAC,IAAT,CAAc,UAAA,CAAC;AAAA,uBAAI,CAAC,CAAC,KAAF,KAAY,oBAAhB;AAAA,eAAf,CAAlB;;AACA,kBAAI,SAAS,IAAI,SAAS,CAAC,KAAV,KAAoB,GAArC,EAA0C;AACtC,oBAAM,iBAAiB,GAAG,QAAQ,CAAC,IAAT,CAAc,UAAA,CAAC;AAAA,yBAAI,CAAC,CAAC,KAAF,KAAY,mBAAhB;AAAA,iBAAf,CAA1B;AACA,gBAAA,UAAU,CAAC,iBAAD,CAAV;AACH;AACJ,aARL;AASH,WAVgB,CAAjB;AAWH;;AAED,eAAO,QAAO,IAAI,EAAE,CAAC,IAAH,CAAQ,QAAR,CAAlB;AACH,OAjBE;AAkBH,MAAA,QAAQ,EAAE,kBAAA,SAAQ,EAAI;AAClB,YAAI;AACA,cAAI,SAAQ,CAAC,MAAT,CAAgB,GAAhB,CAAoB,WAApB,GAAkC,OAAlC,CAA0C,WAA1C,MAA2D,CAAC,CAAhE,EAAmE;AAE/D,gBAAM,KAAK,GAAG,oBAAoB,CAAC,OAArB,CAA6B,GAA7B,CAAiC,UAAA,CAAC;AAAA,qBAAI,CAAC,CAAC,GAAF,KAAU,kBAAd;AAAA,aAAlC,EACT,OADS,CACD,IADC,CAAd;;AAGA,gBAAI,KAAK,KAAK,CAAC,CAAf,EAAkB;AACd,cAAA,oBAAoB,CAAC,MAArB,CAA4B,KAA5B;AACH;;AAED,gBAAI,SAAQ,CAAC,IAAT,CAAc,aAAlB,EAAiC;AAE7B,kBAAM,YAAY,GAAG,SAAQ,CAAC,IAAT,CAAc,aAAd,CAA4B,MAA5B,CAAmC,UAAA,CAAC;AAAA,uBAAI,CAAC,CAAC,MAAF,KAAa,OAAO,CAAC,GAAR,CAAY,eAAZ,CAA4B,SAA5B,CAAsC,mBAAvD;AAAA,eAApC,EAAgH,CAAhH,CAArB;;AAEA,kBAAI,YAAJ,EAAkB;AACd,gBAAA,SAAQ,CAAC,IAAT,CAAc,aAAd,GAA8B,EAA9B;AAEA,gBAAA,oBAAoB,CAAC,GAArB,CAAyB;AACrB,kBAAA,IAAI,YAAK,OAAO,CAAC,GAAR,CAAY,eAAZ,CAA4B,SAA5B,CAAsC,UAA3C,oCADiB;AAErB,kBAAA,IAAI,EAAE;AAAE,oBAAA,aAAa,EAAE,YAAY,CAAC,OAAb,CAAqB,OAArB,CAA6B,OAA7B,MAA0C,CAAC;AAA5D;AAFe,iBAAzB;AAIH;AACJ;AACJ;AACJ,SAxBD,CAyBA,OAAO,GAAP,EAAY;AACR,UAAA,OAAO,CAAC,GAAR,CAAY,GAAG,CAAC,OAAhB;AACH;;AAED,eAAO,SAAQ,IAAI,EAAE,CAAC,IAAH,CAAQ,SAAR,CAAnB;AACH;AAjDE,KAAP;AAmDH;;AAED,EAAA,OAAO,CAAC,MAAR,CAAe,WAAf,EACK,OADL,CACa,4BADb,EAC2C,CAAC,sBAAD,EAAyB,IAAzB,EAA+B,WAA/B,EAA4C,WAA5C,CAD3C,EAEK,MAFL,mBAEY,UAAA,aAAa;AAAA,WAAI,aAAa,CAAC,YAAd,CAA2B,IAA3B,CAAgC,4BAAhC,CAAJ;AAAA,GAFzB;AAIH,CAhFA;;;;;;;;;;ACAA;;AACD;;AAEO,IAAM,aAAa,GAAG,OAAO,CAC/B,MADwB,CACjB,mBADiB,EACI,EADJ,EAExB,SAFwB,CAEd,4CAA0B,IAFZ,EAEkB,2CAFlB,EAGxB,UAHwB,CAGb,+CAA4B,cAHf,EAG+B,8CAH/B,EAIxB,IAJE;;;;;;;;;;ACHC,IAAM,yBAAyB,GAAG;AACtC,EAAA,IAAI,EAAE,kBADgC;AAEtC,EAAA,UAAU,EAAE,IAF0B;AAGtC,EAAA,QAAQ,EAAE;AACN,IAAA,OAAO,EAAE;AADH,GAH4B;AAMtC,EAAA,QAAQ;AAN8B,CAAlC;;;;;;;;;;;;;;;ICAM,2B,GAOV,qCAAY,MAAZ,EAAoB,aAApB,EAAmC;AAAA;;AAAA;;AAAA;;AAAA;;AAAA,gCAK5B,UAAA,CAAC,EAAI;AACR,IAAA,CAAC,CAAC,cAAF;AACA,QAAM,WAAW,GAAG;AAChB,MAAA,IAAI,YAAK,OAAO,CAAC,GAAR,CAAY,eAAZ,CAA4B,SAA5B,CAAsC,UAA3C,sCADY;AAEhB,MAAA,KAAK,EAAE,aAFS;AAGhB,MAAA,WAAW,EAAE,oBAHG;AAIhB,MAAA,IAAI,EAAE,OAJU;AAKhB,MAAA,IAAI,EAAE,KAAI,CAAC,MAAL,CAAY,KAAZ,CAAkB,WALR;AAMhB,MAAA,KAAK,EAAE;AAAA,eAAM,KAAI,CAAC,aAAL,CAAmB,KAAnB,EAAN;AAAA;AANS,KAApB;;AASA,IAAA,KAAI,CAAC,aAAL,CAAmB,IAAnB,CAAwB,WAAxB;AACH,GAjBkC;;AAC/B,OAAK,MAAL,GAAc,MAAd;AACA,OAAK,aAAL,GAAqB,aAArB;AACH,C;;;;gBAVS,2B,oBAEc,6B;;;;;;;;;;ACF3B;;AACD;;AAEO,IAAM,cAAc,GAAG,OAAO,CAChC,MADyB,CAClB,oBADkB,EACI,EADJ,EAEzB,OAFyB,CAEjB,4BAAiB,WAFA,EAEa,2BAFb,EAGzB,OAHyB,CAGjB,yBAAa,WAHI,EAGS,wBAHT,EAIzB,IAJE;;;;;;;;;;;;;;;;;;;ICHO,Y;AAcV,wBAAY,UAAZ,EAAwB,EAAxB,EAA4B,aAA5B,EAA2C;AAAA;;AAAA;;AAAA;;AAAA;;AAAA;;AAAA,qCANjC,EAMiC;;AAAA,uCAL/B,EAK+B;;AAAA,sCAHhC,KAGgC;;AAAA,sCAFhC,OAAO,CAAC,GAAR,CAAY,eAAZ,CAA4B,OAA5B,CAAoC,QAEJ;;AAAA,sCAgBhC,UAAA,QAAQ,EAAI;AACnB,UAAI,KAAJ;AACA,UAAI,GAAG,GAAG,EAAV;;AAEA,UAAI,KAAI,CAAC,QAAL,KAAkB,MAAtB,EAA8B;AAC1B,QAAA,CAAC,CAAC,UAAF,GAAe,IAAI,OAAO,CAAC,oBAAZ,GACV,OADU,CACF,OAAO,CAAC,GAAR,CAAY,eAAZ,CAA4B,OAA5B,CAAoC,UADlC,EAEV,sBAFU,GAGV,gBAHU,CAGO,OAAO,CAAC,QAAR,CAAiB,OAHxB,EAIV,KAJU,EAAf;AAMA,QAAA,KAAK,GAAG,CAAC,CAAC,UAAV;AACH,OARD,MASK;AACD,QAAA,KAAK,GAAG,CAAC,CAAC,UAAF,CAAa,UAArB;AACH;;AAED,UAAI,KAAK,KAAK,SAAd,EAAyB;AAErB,QAAA,GAAG,GAAG;AACF,UAAA,MAAM,EAAE,IADN;AAEF,UAAA,KAAK,EAAE,iBAAM;AACT,gBAAI,KAAI,CAAC,QAAL,KAAkB,MAAtB,EAA8B;AAC1B,kBAAI;AACA,gBAAA,KAAK,CAAC,KAAN,GACK,IADL,CACU,YAAM,CAAG;AAAC;AADpB,2BAEW;AAAA,yBAAM,OAAO,CAAC,IAAR,CAAa,qBAAb,CAAN;AAAA,iBAFX;AAGH,eAJD,CAIE,OAAO,CAAP,EAAU;AACR,gBAAA,OAAO,CAAC,IAAR,CAAa,oCAAb,EAAmD,CAAnD;AACH;AACJ,aARD,MASK;AACD,kBAAI,CAAC,CAAC,UAAF,CAAa,GAAb,CAAiB,KAAjB,KAA2B,CAAC,CAAC,UAAF,CAAa,eAAb,CAA6B,YAA5D,EAA0E;AACtE,gBAAA,CAAC,CAAC,UAAF,CAAa,GAAb,CAAiB,IAAjB,CAAsB,IAAtB,EAA4B,IAA5B;AACH;;AACD,cAAA,CAAC,CAAC,UAAF,CAAa,GAAb,CAAiB,KAAjB;AACH;AACJ,WAlBC;AAmBF,UAAA,EAAE,EAAE,YAAC,SAAD,EAAY,QAAZ,EAAyB;AACzB,YAAA,KAAK,CAAC,EAAN,CAAS,SAAT,EAAoB,UAAA,MAAM,EAAI;AAC1B,cAAA,KAAI,CAAC,UAAL,CAAgB,MAAhB,CAAuB,YAAM;AACzB,oBAAI,QAAJ,EAAc;AACV,kBAAA,QAAQ,CAAC,MAAD,CAAR;AACH;AACJ,eAJD;AAKH,aAND;AAOH,WA3BC;;AA4BF;AAChB;AACA;AACA;AACA;AACgB,UAAA,MAAM,EAAE,gBAAC,UAAD,EAAa,QAAb,EAA0B;AAC9B,YAAA,KAAK,CAAC,MAAN,CAAa,UAAb,EACK,IADL,CACU,UAAA,MAAM;AAAA,qBACR,KAAI,CAAC,UAAL,CAAgB,MAAhB,CAAuB,YAAM;AACzB,oBAAI,QAAJ,EAAc;AACV,kBAAA,QAAQ,CAAC,MAAD,CAAR;AACH;AACJ,eAJD,CADQ;AAAA,aADhB;AAOH;AAzCC,SAAN;AA2CH,OA7CD,MA6CO;AACH,QAAA,GAAG,GAAG;AACF,UAAA,EAAE,EAAE,cAAM,CAAG,CADX;AAEF,UAAA,MAAM,EAAE,kBAAM,CAAG,CAFf;AAGF,UAAA,KAAK,EAAE;AAAA,mBAAM,OAAO,CAAC,IAAR,CAAa,iBAAb,CAAN;AAAA;AAHL,SAAN;AAKH;;AAED,aAAO,QAAQ,CAAC,GAAD,CAAf;AACH,KAvF0C;;AACvC,SAAK,UAAL,GAAkB,UAAlB;AACA,SAAK,EAAL,GAAU,EAAV;AACA,SAAK,aAAL,GAAqB,aAArB;AAEA,QAAM,WAAW,GAAG,OAAO,CAAC,GAAR,CAAY,eAAZ,CAA4B,eAA5B,CAA4C,WAAhE;;AACA,QAAI,KAAK,QAAL,KAAkB,MAAtB,EAA8B;AAC1B,WAAK,OAAL,GAAe,CAAC,WAAW,GAAG,6BAAf,CAAf;AACH,KAFD,MAEO;AACH,WAAK,OAAL,GAAe,CACX,WAAW,GAAG,gCADH,EAEX,WAAW,GAAG,0BAFH,CAAf;AAIH;AACJ;;;;;AA2ED;AACJ;AACA;AACI,gCAAmB;AACf,aAAO,KAAK,SAAL,CAAe,MAAtB,EAA8B;AAC1B,YAAM,EAAE,GAAG,KAAK,SAAL,CAAe,GAAf,EAAX;AACA,aAAK,QAAL,CAAc,EAAd;AACH;;AAED,WAAK,QAAL,GAAgB,KAAhB;AACH;AAED;AACJ;AACA;AACA;;;;WACI,iBAAQ,QAAR,EAAkB;AAAA;;AACd,WAAK,SAAL,CAAe,IAAf,CAAoB,QAApB;;AAEA,UAAI,CAAC,KAAK,QAAV,EAAoB;AAChB,YAAI,CAAC,CAAC,UAAF,KAAiB,SAArB,EAAgC;AAC5B,eAAK,QAAL,GAAgB,IAAhB;AAEA,cAAM,QAAQ,GAAG,EAAjB;AACA,eAAK,OAAL,CAAa,OAAb,CAAqB,UAAA,MAAM;AAAA,mBAAI,QAAQ,CAAC,IAAT,CAAc,MAAI,CAAC,aAAL,CAAmB,MAAnB,CAA0B,MAA1B,CAAd,CAAJ;AAAA,WAA3B;AAEA,eAAK,EAAL,CAAQ,GAAR,CAAY,QAAZ,EAAsB,IAAtB,CAA2B;AAAA,mBAAM,MAAI,CAAC,gBAAL,EAAN;AAAA,WAA3B;AACH,SAPD,MAOO;AACH,eAAK,gBAAL;AACH;AACJ;AACJ;;;;;;;;gBAtIS,Y,iBAEW,c;;;;;;;;;;;;;;ICFX,gB,GAoBV,0BAAY,KAAZ,EAAmB,gBAAnB,EAAqC;AAAA;;AAAA;;AAAA;;AAAA;;AAAA,mCAb3B,OAAO,CAAC,GAAR,CAAY,eAAZ,CAA4B,SAA5B,CAAsC,OAaX;;AAAA,mCAK3B,UAAC,MAAD,EAAS,GAAT,EAAc,IAAd;AAAA,WACN,KAAI,CAAC,gBAAL,CAAsB,eAAtB,CACI,MAAM,KAAK,KAAX,GAAmB,KAAI,CAAC,KAAL,CAAW,GAAX,CAAe,KAAI,CAAC,OAAL,GAAe,GAA9B,CAAnB,GAAwD,KAAI,CAAC,KAAL,CAAW,IAAX,CAAgB,KAAI,CAAC,OAAL,GAAe,GAA/B,EAAoC,IAApC,CAD5D,EAEI,iBAFJ,CADM;AAAA,GAL2B;;AAAA,iCAW7B,UAAA,EAAE;AAAA,WAAI,KAAI,CAAC,OAAL,CAAa,KAAb,kBAA6B,EAA7B,OAAJ;AAAA,GAX2B;;AAAA,sCAaxB,UAAA,IAAI;AAAA,WAAI,KAAI,CAAC,OAAL,CAAa,MAAb,gBAAmC,IAAnC,CAAJ;AAAA,GAboB;;AAAA,uCAevB;AAAA,WAAM,KAAI,CAAC,OAAL,CAAa,KAAb,gBAAN;AAAA,GAfuB;;AAAA,2CAiBnB,UAAA,KAAK;AAAA,WAAI,KAAI,CAAC,OAAL,CAAa,KAAb,4BAAuC,KAAvC,OAAJ;AAAA,GAjBc;;AAAA,wCAmBtB,UAAC,QAAD,EAAW,IAAX;AAAA,WAAoB,KAAI,CAAC,OAAL,CAAa,MAAb,kBAAqC;AACpE,MAAA,QAAQ,EAAR,QADoE;AAEpE,MAAA,IAAI,EAAJ;AAFoE,KAArC,CAApB;AAAA,GAnBsB;;AAAA,uCAwBvB;AAAA,WAAM,QAAN;AAAA,GAxBuB;;AACjC,OAAK,KAAL,GAAa,KAAb;AACA,OAAK,gBAAL,GAAwB,gBAAxB;AACH,C;;;;gBAvBS,gB,iBAEW,kB;;gBAFX,gB","file":"preflight.js","sourcesContent":["(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()","﻿import { ServicesModule } from './resources/_servicesModule';\r\nimport { ComponentsModule } from './components/_componentsModule';\r\nimport { ControllersModule } from './controllers/_controllersModule';\r\nimport { PluginsModule } from './plugins/_pluginsModule';\r\n\r\nconst name = 'preflight';\r\n\r\nangular.module(name, [\r\n    ServicesModule,\r\n    ComponentsModule,\r\n    ControllersModule,\r\n    PluginsModule,\r\n]);\r\n\r\nangular.module('umbraco').requires.push(name);","﻿import { CardComponent } from './card.component';\r\nimport { ProgressCircleDirective } from './progress.directive';\r\nimport { ResultIntroComponent } from './resultintro.component';\r\nimport { StateIconComponent } from './stateicon.component';\r\n\r\nexport const ComponentsModule = angular\r\n    .module('preflight.components', [])\r\n    .component(CardComponent.name, CardComponent)\r\n    .component(ResultIntroComponent.name, ResultIntroComponent)\r\n    .component(StateIconComponent.name, StateIconComponent)\r\n    .directive(ProgressCircleDirective.directiveName, () => new ProgressCircleDirective())\r\n    .name;","﻿class Card {\r\n\r\n    template = `\r\n        <div class=\"card {{ ::$ctrl.cardClass }}\">\r\n            <span class=\"card-score {{ ::$ctrl.cardScoreClass }}\" ng-bind=\"::$ctrl.score\"></span>\r\n            <span class=\"card-title\">\r\n                {{ ::$ctrl.title }}<br />\r\n                {{ ::$ctrl.subtitle }}\r\n            </span>\r\n        </div>`;\r\n\r\n    cardClass = 'pass';\r\n    cardScoreClass = 'pass-color';\r\n\r\n    localizationService;\r\n\r\n    constructor(localizationService) {\r\n        this.localizationService = localizationService;\r\n    }\r\n\r\n    $onInit() {\r\n\r\n        if (this.failed) {\r\n            this.cardClass = 'fail';\r\n            this.cardScoreClass = 'fail-color';\r\n        }\r\n\r\n        if (this.title[0] === '@') {\r\n            localizationService.localize(this.title, this.tokens)\r\n                .then(localizedTitle => this.title = localizedTitle);\r\n        }\r\n\r\n        if (this.subtitle[0] === '@') {\r\n            this.localizationService.localize(this.subtitle, this.tokens)\r\n                .then(localizedSubtitle => this.subtitle = localizedSubtitle);\r\n        }\r\n    };\r\n}\r\n\r\nexport const CardComponent = {\r\n    transclude: true,\r\n    name: 'card',\r\n    bindings: {\r\n        title: '@?',\r\n        subtitle: '@?',\r\n        failed: '<',\r\n        score: '<',\r\n        tokens: '<'\r\n    },\r\n    template: Card.template,\r\n    controller: Card\r\n};\r\n","﻿export class ProgressCircleDirective {\n\n    static directiveName = \"progressCircle\";\n\n    restrict = 'E';\n    replace = true;\n    scope = {\n        size: '@?',\n        percentage: '=',\n        done: '@',\n        foreground: '@',\n        background: '@'\n    };\n\n    template = `\n        <div class=\"umb-progress-circle preflight-progress\" ng-style=\"{'width': size, 'height': size }\"> {{ percent }}\n            <svg class=\"umb-progress-circle__view-box\" viewBox=\"0 0 33.83098862 33.83098862\"> \n                <circle class=\"umb-progress-circle__highlight--{{ background }}\" cx=\"16.91549431\" cy=\"16.91549431\" r=\"15.91549431\" fill=\"none\" stroke-width=\".5\"></circle>\n                <circle class=\"umb-progress-circle__highlight umb-progress-circle__highlight--{{ foreground }}\" \n                    cx=\"16.91549431\" cy=\"16.91549431\" r=\"15.91549431\" stroke-linecap=\"round\" fill=\"none\" stroke-width=\"2\" stroke-dasharray=\"{{ dashArray }}\"></circle> \n            </svg> \n            <div ng-style=\"{'font-size': percentageSize}\" class=\"umb-progress-circle__percentage\">\n                {{ label }}\n                <small>pass rate</small>                \n            </div>\n        </div>`;\n\n    link(scope, element) {\n        function onInit() {\n\n            // making sure we get the right numbers\n            let percent = Math.round(scope.percentage);\n            percent = percent > 100 ? 100 : percent || 0;\n\n            // calculating the circle's highlight\n            const r = element.find('.umb-progress-circle__highlight').attr('r');\n            const pathLength = r * Math.PI * 2 * percent / 100;\n\n            // Full circle length\n            scope.dashArray = `${pathLength},100`;\n\n            // set font size\n            scope.percentageSize = scope.size * 0.3 + 'px';\n\n            // use rounded percentage\n            scope.label = `${percent}%`;\n        }\n\n        const watcher = scope.$watch('percentage', onInit);\n\n        scope.$on('$destroy', watcher());\n    }\n}\n","﻿class ResultIntro {\r\n    /**\r\n     * Directive used to render the heading for a plugin in the results view\r\n     * Send a stringified array as the tokens attribute to replace %0%, %1% .. %n% in the localized string\r\n     */\r\n\r\n    static template = `\r\n        <h5 ng-bind=\"::$ctrl.heading\"></h5>\r\n        <span ng-if=\"$ctrl.pass\" ng-bind=\"::$ctrl.passText\"></span>`;\r\n\r\n    localizationService;\r\n\r\n    constructor(localizationService) {\r\n        this.localizationService = localizationService;\r\n    }\r\n\r\n    $onInit() {\r\n        if (this.passText[0] === '@') {\r\n            this.localizationService.localize(this.passText, this.tokens)\r\n                .then(localizedPassText => this.passText = localizedPassText);\r\n        }\r\n\r\n        if (this.heading[0] === '@') {\r\n            this.localizationService.localize(this.heading, this.tokens)\r\n                .then(localizedHeading => this.heading = localizedHeading);\r\n        }\r\n    };\r\n}\r\n\r\nexport const ResultIntroComponent = {\r\n    transclude: true,\r\n    name: 'resultIntro',\r\n    bindings: {\r\n        tokens: '<',\r\n        passText: '@?',\r\n        heading: '@?',\r\n        pass: '<'\r\n    },\r\n    template: ResultIntro.template,\r\n    controller: ResultIntro\r\n};","﻿class StateIcon {\r\n\r\n    static template = `\r\n        <div class=\"state-icon {{ ::$ctrl.className }}\">\r\n            <i class=\"icon icon-{{ ::$ctrl.icon }}\"></i>\r\n        </div>`;\r\n\r\n    icon = 'power';\r\n    className = 'disabled';\r\n\r\n    $onInit() {\r\n        if (!this.disabled) {\r\n            this.icon = this.failed ? 'delete' : 'check';\r\n            this.className = this.failed ? 'fail' : 'pass';\r\n        }\r\n    };\r\n}\r\n\r\nexport const StateIconComponent = {\r\n    transclude: true,\r\n    name: 'stateIcon',\r\n    bindings: {\r\n        failed: '<',\r\n        disabled: '<'\r\n    },\r\n    template: StateIcon.template,\r\n    controller: StateIcon,\r\n};\r\n","﻿import { PreflightController } from './preflight.controller';\r\nimport { NotificationController } from './notification.controller';\r\nimport { SettingsController } from './settings.controller';\r\n\r\nexport const ControllersModule = angular\r\n    .module('preflight.controllers', [])\r\n    .controller(PreflightController.controllerName, PreflightController)\r\n    .controller(NotificationController.controllerName, NotificationController)\r\n    .controller(SettingsController.controllerName, SettingsController)\r\n    .name;","﻿export class NotificationController {\r\n\r\n    static controllerName = 'preflight.notification.controller';\r\n\r\n    $rootScope;\r\n    notificationsService;\r\n    editorState;\r\n\r\n    saveCancelled;\r\n\r\n    constructor($rootScope, notificationsService, editorState) {\r\n        this.$rootScope = $rootScope;\r\n        this.notificationsService = notificationsService;\r\n        this.editorState = editorState;\r\n\r\n        this.saveCancelled = +notificationsService.current[0].args.saveCancelled === 1;\r\n    }\r\n\r\n    switch = n => {\r\n        this.$rootScope.$emit('showPreflight', { nodeId: this.editorState.current.id });\r\n        this.discard(n);\r\n    };\r\n\r\n    discard = n => {\r\n        this.notificationsService.remove(n);\r\n    };\r\n}\r\n","﻿export class PreflightController {\r\n\r\n    static controllerName = 'preflight.controller';\r\n\r\n    $scope;\r\n    $rootScope;\r\n    $element;\r\n    $timeout;\r\n    editorState;\r\n    preflightService;\r\n    preflightHub;\r\n\r\n    dirtyHashes = {};\r\n    validPropTypes;\r\n    propsBeingChecked = [];\r\n    propertiesToTrack = [];\r\n    dirtyProps = [];\r\n\r\n    results = {\r\n        properties: []\r\n    };\r\n\r\n    noTests = false;\r\n    percentageDone = 20;\r\n    progressStep = 0;\r\n\r\n    constructor($scope, $rootScope, $element, $timeout, editorState, preflightService, preflightHub) {\r\n        this.$scope = $scope;\r\n        this.$rootScope = $rootScope;\r\n        this.$element = $element;\r\n        this.$timeout = $timeout;\r\n        this.editorState = editorState;\r\n        this.preflightService = preflightService;\r\n        this.preflightHub = preflightHub;\r\n\r\n        this.validPropTypes = Umbraco.Sys.ServerVariables.Preflight.PropertyTypesToCheck;\r\n\r\n        this.$scope.model.badge = {\r\n            type: 'info'\r\n        };\r\n\r\n        $rootScope.$on('app.tabChange', (e, data) => {\r\n            if (data.alias === 'preflight') {\r\n                // collapse open nc controls, timeouts prevent $apply errors\r\n                for (let openNc of document.querySelectorAll('.umb-nested-content__item--active .umb-nested-content__header-bar')) {\r\n                    $timeout(() => openNc.click());\r\n                }\r\n\r\n                $timeout(() => {\r\n                    this.checkDirty();\r\n                    this.setBadgeCount();\r\n                });\r\n            }\r\n        });\r\n\r\n        $rootScope.$on('showPreflight', (event, data) => {\r\n            if (data.nodeId === $scope.content.id) {\r\n                // needs to find app closest to current scope\r\n                const appLink = $element.closest('form').find('[data-element=\"sub-view-preflight\"]');\r\n\r\n                if (appLink) {\r\n                    appLink.click();\r\n                }\r\n            }\r\n        });\r\n    }\r\n\r\n\r\n    /**\r\n     * \r\n     * @param {any} arr\r\n     */\r\n    joinList = arr => {\r\n        let outStr;\r\n        if (arr.length === 1) {\r\n            outStr = arr[0];\r\n        } else if (arr.length === 2) {\r\n            outStr = arr.join(' and ');\r\n        } else if (arr.length > 2) {\r\n            outStr = arr.slice(0, -1).join(', ') + ', and ' + arr.slice(-1);\r\n        }\r\n\r\n        return outStr;\r\n    };\r\n\r\n\r\n    /**\r\n     * Convert a string to a hash for storage and comparison.\r\n     * @param {string} s - the string to hashify\r\n     * @returns {int} the generated hash\r\n     */\r\n    getHash = s => s ? s.split('').reduce((a, b) => {\r\n        a = (a << 5) - a + b.charCodeAt(0);\r\n        return a & a;\r\n    }, 0) : 1;\r\n\r\n\r\n    /**\r\n     * Get property by alias from the current variant\r\n     * @param {any} alias\r\n     */\r\n    getProperty = alias => {\r\n        for (let tab of this.editorState.current.variants.find(x => x.active).tabs) {\r\n            for (let prop of tab.properties) {\r\n                if (prop.alias === alias) {\r\n                    return prop;\r\n                }\r\n            }\r\n        }\r\n    };\r\n\r\n\r\n    /**\r\n     * \r\n     * @param {any} editor\r\n     */\r\n    onComplete = () => {\r\n        // it's possible no tests ran, in which case results won't exist\r\n        this.noTests = this.results.properties.every(x => !x.plugins.length);\r\n        if (this.noTests) {\r\n            this.$scope.model.badge = undefined;\r\n        }\r\n\r\n        for (let p of this.results.properties) {\r\n            p.disabled = p.failedCount === -1;\r\n        }\r\n\r\n        this.showSuccessMessage = !this.results.failed && !this.noTests;\r\n        this.done = true;\r\n    };\r\n\r\n    /**\r\n     * Is the editor param Umbraco.Grid or Umbraco.NestedContent?\r\n     * @param {any} editor\r\n     */\r\n    isJsonProperty = editor => editor === 'Umbraco.Grid' || editor === 'Umbraco.NestedContent';\r\n\r\n\r\n    /**\r\n     * Updates the badge in the header with the number of failed tests\r\n     */\r\n    setBadgeCount = pending => {\r\n        if (pending) {\r\n            this.$scope.model.badge = {\r\n                type: 'warning'\r\n            };\r\n            return;\r\n        }\r\n\r\n        if (this.results && this.results.failedCount > 0) {\r\n            this.$scope.model.badge = {\r\n                count: this.results.failedCount,\r\n                type: 'alert'\r\n            };\r\n        } else {\r\n            this.$scope.model.badge = {\r\n                type: 'success icon-'\r\n            };\r\n        }\r\n    };\r\n\r\n\r\n    /**\r\n     * Updates the property set with the new value, and removes any temporary property from that set\r\n     * @param {object} data - a response model item returned via the signalr hub\r\n     */\r\n    rebindResult = data => {\r\n\r\n        let newProp = true;\r\n        let totalTestsRun = 0;\r\n        let existingProp = this.results.properties.find(x => x.label === data.label);\r\n\r\n        if (existingProp) {\r\n            existingProp = Object.assign(existingProp, data);\r\n            existingProp.loading = false;\r\n            newProp = false;\r\n        }\r\n\r\n        // a new property will have a temporary placeholder - remove it\r\n        // _temp ensures grid with multiple editors only removes the correct temp entry\r\n        if (newProp && !data.remove && data.failedCount !== -1) {\r\n            const tempIndex = this.results.properties.findIndex(p => p.name === `${data.name}_temp`);\r\n            if (tempIndex !== -1) {\r\n                this.results.properties.splice(tempIndex, 1);\r\n            }\r\n            this.results.properties.push(data);\r\n        }\r\n\r\n        this.results.properties = this.results.properties.filter(x => x.remove === false);\r\n        this.results.properties = this.results.properties.filter(x => x.failedCount > -1);\r\n\r\n        this.results.failedCount = this.results.properties.reduce((prev, cur) => {\r\n            totalTestsRun += cur.totalTests;\r\n            return prev + cur.failedCount;\r\n        }, 0);\r\n\r\n        this.results.failed = this.results.failedCount > 0;\r\n        this.propsBeingCheckedStr = this.joinList(this.propsBeingChecked.splice(this.propsBeingChecked.indexOf(data.name), 1));\r\n        this.percentageFailed = (totalTestsRun - this.results.failedCount) / totalTestsRun * 100;\r\n    };\r\n\r\n\r\n    /**\r\n     * Finds dirty content properties, checks the type and builds a collection of simple models for posting to the preflight checkdirty endpoint\r\n     * Also generates and stores a hash of the property value for comparison on subsequent calls, to prevent re-fetching unchanged data\r\n     */\r\n    checkDirty = () => {\r\n\r\n        this.dirtyProps = [];\r\n        this.hasDirty = false;\r\n\r\n        for (let prop of this.propertiesToTrack) {\r\n            let currentValue = this.getProperty(prop.alias).value;\r\n            currentValue = this.isJsonProperty(prop.editor) ? JSON.stringify(currentValue) : currentValue;\r\n\r\n            const hash = this.getHash(currentValue);\r\n\r\n            if (this.dirtyHashes[prop.label] && this.dirtyHashes[prop.label] !== hash) {\r\n\r\n                this.dirtyProps.push({\r\n                    name: prop.label,\r\n                    value: currentValue,\r\n                    editor: prop.editor\r\n                });\r\n\r\n                this.dirtyHashes[prop.label] = hash;\r\n                this.hasDirty = true;\r\n            } else if (!this.dirtyHashes[prop.label]) {\r\n                this.dirtyHashes[prop.label] = hash;\r\n            }\r\n        }\r\n\r\n        // if dirty properties exist, create a simple model for each and send the lot off for checking\r\n        // response comes via the signalr hub so is not handled here\r\n        if (this.hasDirty) {\r\n            this.$timeout(() => {\r\n\r\n                this.dirtyProps.forEach(prop => {\r\n                    for (let existing of this.results.properties.filter(p => p.name === prop.name)) {\r\n                        if (existing) {\r\n                            existing.open = false;\r\n                            existing.failedCount = -1;\r\n                        } else {\r\n                            // generate new placeholder for pending results - this is removed when the response is returned\r\n                            this.results.properties.push({\r\n                                label: prop.name,\r\n                                open: false,\r\n                                failed: false,\r\n                                failedCount: -1,\r\n                                name: `${prop.name}_temp`\r\n                            });\r\n                        }\r\n                    }\r\n\r\n                    this.propsBeingChecked.push(prop.name);\r\n                });\r\n\r\n                this.propsBeingCheckedStr = this.joinList(this.propsBeingChecked);\r\n\r\n                const payload = {\r\n                    properties: this.dirtyProps,\r\n                    nodeId: this.editorState.current.id\r\n                };\r\n\r\n                this.setBadgeCount(true);\r\n                this.done = false;\r\n\r\n                this.preflightService.checkDirty(payload);\r\n            });\r\n        }\r\n    };\r\n\r\n    /**\r\n     * Initiates the signalr hub for returning test results\r\n     */\r\n    initSignalR = () => {\r\n\r\n        this.preflightHub.initHub(hub => {\r\n\r\n            hub.on('preflightTest',\r\n                e => {\r\n                    this.rebindResult(e);\r\n                    this.setBadgeCount();\r\n                });\r\n\r\n            hub.on('preflightComplete',\r\n                () => this.onComplete()\r\n            );\r\n\r\n            hub.start(e => {\r\n                /**\r\n                 * Check all properties when the controller loads. Won't re-run when changing between apps\r\n                 * but needs to happen after the hub loads\r\n                 */\r\n                this.$timeout(() => {\r\n                    this.setBadgeCount(true);\r\n                    this.checkDirty(); // builds initial hash array, but won't run anything\r\n                    this.preflightService.check(this.editorState.current.id);\r\n                });\r\n            });\r\n        });\r\n    }\r\n\r\n    $onInit() {\r\n        const activeVariant = this.editorState.current.variants.find(x => x.active);\r\n        if (activeVariant) {\r\n            activeVariant.tabs.forEach(x => {\r\n                this.propertiesToTrack = this.propertiesToTrack.concat(x.properties.map(x => {\r\n                    if (this.validPropTypes.includes(x.editor)) {\r\n                        return {\r\n                            editor: x.editor,\r\n                            alias: x.alias,\r\n                            label: x.label\r\n                        };\r\n                    }\r\n                })).filter(x => x);\r\n            });\r\n\r\n            // array will have length, as app is only sent on types with testable properties\r\n            if (this.propertiesToTrack.length) {\r\n                this.initSignalR();\r\n            }\r\n        }\r\n    }\r\n}\r\n","﻿export class SettingsController {\r\n\r\n    static controllerName = 'preflight.settings.controller';\r\n\r\n    $scope;\r\n    notificationsService;\r\n    preflightService;\r\n\r\n    constructor($scope, notificationsService, preflightService) {\r\n        this.$scope = $scope;\r\n        this.notificationsService = notificationsService;\r\n        this.preflightService = preflightService;\r\n    }\r\n\r\n    watchTestableProperties = () => {\r\n        let propertiesToModify = this.settings.filter(x => x.alias.indexOf('PropertiesToTest') !== -1 && x.alias !== 'propertiesToTest');\r\n        this.$scope.$watch(() => this.settings.find(x => x.alias === 'propertiesToTest').value, newVal => {\r\n            if (newVal) {\r\n                for (let prop of propertiesToModify) {\r\n                    // use the prop alias to find the checkbox set\r\n                    for (let checkbox of document.querySelectorAll(`umb-checkbox[name*=\"${prop.alias}\"]`)) {\r\n                        checkbox.querySelector('.umb-form-check').classList[newVal.indexOf(checkbox.getAttribute('value')) === -1 ? 'add' : 'remove']('pf-disabled');\r\n                    }\r\n                }\r\n            }\r\n        }, true);\r\n    };\r\n\r\n    $onInit() {\r\n        this.preflightService.getSettings()\r\n            .then(resp => {\r\n                this.settings = resp.data.settings;\r\n                this.tabs = resp.data.tabs;\r\n\r\n                this.settings.forEach(v => {\r\n                    if (v.view.indexOf('slider') !== -1) {\r\n                        v.config = {\r\n                            handle: 'round',\r\n                            initVal1: v.alias === 'longWordSyllables' ? 5 : 65,\r\n                            maxVal: v.alias === 'longWordSyllables' ? 10 : 100,\r\n                            minVal: 0,\r\n                            orientation: 'horizontal',\r\n                            step: 1,\r\n                            tooltip: 'always',\r\n                            tooltipPosition: 'bottom',\r\n                        };\r\n                    } else if (v.view.indexOf('multipletextbox') !== -1) {\r\n\r\n                        v.value = v.value.split(',').map(val => {\r\n                            return { value: val };\r\n                        }).sort((a, b) => a < b);\r\n\r\n                        v.config = {\r\n                            min: 0,\r\n                            max: 0\r\n                        };\r\n\r\n                        v.validation = {};\r\n                    } else if (v.view.indexOf('checkboxlist') !== -1) {\r\n\r\n                        v.value = v.value.split(',');\r\n\r\n                        v.config = {\r\n                            items: v.prevalues\r\n                        };\r\n                    }\r\n                });\r\n\r\n                this.watchTestableProperties();\r\n            });\r\n    }\r\n\r\n    /**\r\n     * \r\n     */\r\n    saveSettings = () => {\r\n\r\n        const min = parseInt(this.settings.filter(x => x.alias === 'readabilityTargetMinimum')[0].value);\r\n        const max = parseInt(this.settings.filter(x => x.alias === 'readabilityTargetMaximum')[0].value);\r\n\r\n        if (min < max) {\r\n\r\n            if (min + 10 > max) {\r\n                this.notificationsService.warning('WARNING', 'Readability range is narrow');\r\n            }\r\n\r\n            // need to transform multitextbox values without digest\r\n            // so must be a new object, not a reference\r\n            const settingsToSave = JSON.parse(JSON.stringify(this.settings));\r\n\r\n            settingsToSave.forEach(v => {\r\n                if (v.view.indexOf('multipletextbox') !== -1) {\r\n                    v.value = v.value.map(o => o.value).join(',');\r\n                } else if (v.view.indexOf('checkboxlist') !== -1) {\r\n                    v.value = v.value.join(',');\r\n                }\r\n            });\r\n\r\n            this.preflightService.saveSettings(settingsToSave, this.tabs)\r\n                .then(resp => {\r\n                    resp.data\r\n                        ? this.notificationsService.success('SUCCESS', 'Settings updated')\r\n                        : this.notificationsService.error('ERROR', 'Unable to save settings');\r\n\r\n                    // reset dashboard form state\r\n                    this.$scope.preflightSettingsForm.$setPristine();\r\n                });\r\n        }\r\n        else {\r\n            this.notificationsService.error('ERROR',\r\n                'Unable to save settings - readability minimum cannot be greater than readability maximum');\r\n        }\r\n    }\r\n}","﻿(() => {\r\n\r\n    const postSaveUrl = '/umbracoapi/content/postsave';\r\n\r\n    function interceptor(notificationsService, $q, $injector) {\r\n\r\n        const checkGroup = userGroupOptInOut => {\r\n            // use the stored value to get the corresponding key from the setting's prevalues (which is value,key paring of all groups)\r\n            var enabledGroups = userGroupOptInOut.prevalues.filter(x => userGroupOptInOut.value.includes(x.value)).map(x => x.key);\r\n\r\n            $injector.invoke(['authResource', authResource => {\r\n                authResource.getCurrentUser()\r\n                    .then(currentUser => {\r\n                        if (enabledGroups.some(x => currentUser.userGroups.includes(x))) {\r\n                            notificationsService.add({\r\n                                key: 'preflight_notice',\r\n                                view: `${Umbraco.Sys.ServerVariables.Preflight.PluginPath}/views/warning.notification.html`\r\n                            });\r\n                        }\r\n                    });\r\n            }]);\r\n        };\r\n\r\n        return {\r\n            request: request => {\r\n                if (request.url.toLowerCase().indexOf(postSaveUrl) !== -1) {\r\n                    $injector.invoke(['preflightService', s => {\r\n                        s.getSettings()\r\n                            .then(resp => {                   \r\n                                const settings = resp.data.settings;\r\n                                const runOnSave = settings.find(x => x.alias === 'runPreflightOnSave'); \r\n                                if (runOnSave && runOnSave.value === '1') {\r\n                                    const userGroupOptInOut = settings.find(x => x.alias === 'userGroupOptInOut');\r\n                                    checkGroup(userGroupOptInOut);\r\n                                }\r\n                            });\r\n                    }]);\r\n                }\r\n\r\n                return request || $q.when(request);\r\n            },\r\n            response: response => {\r\n                try {\r\n                    if (response.config.url.toLowerCase().indexOf(postSaveUrl) !== -1) {\r\n\r\n                        const index = notificationsService.current.map(c => c.key === 'preflight_notice')\r\n                            .indexOf(true);\r\n\r\n                        if (index !== -1) {\r\n                            notificationsService.remove(index);\r\n                        }\r\n\r\n                        if (response.data.notifications) {\r\n                            \r\n                            const notification = response.data.notifications.filter(f => f.header === Umbraco.Sys.ServerVariables.Preflight.ContentFailedChecks)[0];\r\n\r\n                            if (notification) {\r\n                                response.data.notifications = [];\r\n\r\n                                notificationsService.add({\r\n                                    view: `${Umbraco.Sys.ServerVariables.Preflight.PluginPath}/views/failed.notification.html`,\r\n                                    args: { saveCancelled: notification.message.indexOf('_true') !== -1 }\r\n                                });\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n                catch (err) {\r\n                    console.log(err.message);\r\n                }\r\n\r\n                return response || $q.when(response);\r\n            }\r\n        };\r\n    }\r\n\r\n    angular.module('preflight')\r\n        .factory('preflight.save.interceptor', ['notificationsService', '$q', '$injector', interceptor])\r\n        .config($httpProvider => $httpProvider.interceptors.push('preflight.save.interceptor'));\r\n\r\n})();","﻿import { LinkHealthResultComponent } from './linkhealth.result.component';\r\nimport { ReadabilityPluginController } from './readability.plugin.controller';\r\n\r\nexport const PluginsModule = angular\r\n    .module('preflight.plugins', [])\r\n    .component(LinkHealthResultComponent.name, LinkHealthResultComponent)\r\n    .controller(ReadabilityPluginController.controllerName, ReadabilityPluginController)\r\n    .name;","﻿export const LinkHealthResultComponent = {\r\n    name: 'linkHealthResult',\r\n    transclude: true,\r\n    bindings: {\r\n        results: '<'\r\n    },\r\n    template: `\r\n        <table class=\"linkhealth-result-table\">\r\n            <thead>\r\n                <tr><th>Link text</th> <th>Link target</th> <th>Link status</th></tr>\r\n            </thead>\r\n            <tr ng-repeat=\"link in $ctrl.results\"><td ng-bind=\"link.text\"></td><td ng-bind=\"link.href\"></td><td ng-bind=\"link.status\"></td></tr>\r\n        </table>`\r\n}","﻿export class ReadabilityPluginController {\r\n\r\n    static controllerName = 'readabilityPluginController';\r\n\r\n    $scope;\r\n    editorService;\r\n\r\n    constructor($scope, editorService) {\r\n        this.$scope = $scope;\r\n        this.editorService = editorService;\r\n    }\r\n\r\n    help = e => {\r\n        e.preventDefault();\r\n        const helpOverlay = {\r\n            view: `${Umbraco.Sys.ServerVariables.Preflight.PluginPath}/plugins/readability.overlay.html`,\r\n            title: 'Readability',\r\n            description: 'Why should I care?',\r\n            size: 'small',\r\n            text: this.$scope.model.description,\r\n            close: () => this.editorService.close()                \r\n        };\r\n\r\n        this.editorService.open(helpOverlay);\r\n    };\r\n}\r\n","﻿import { PreflightService } from './preflight.service';\r\nimport { PreflightHub } from './preflight.hub';\r\n\r\nexport const ServicesModule = angular\r\n    .module('preflight.services', [])\r\n    .service(PreflightService.serviceName, PreflightService)\r\n    .service(PreflightHub.serviceName, PreflightHub)\r\n    .name;","﻿export class PreflightHub {\r\n\r\n    static serviceName = 'preflightHub';\r\n\r\n    $rootScope;\r\n    $q;\r\n    assetsService;\r\n\r\n    scripts = [];\r\n    callbacks = [];\r\n\r\n    starting = false\r\n    platform = Umbraco.Sys.ServerVariables.Plumber.platform;\r\n\r\n    constructor($rootScope, $q, assetsService) {\r\n        this.$rootScope = $rootScope;\r\n        this.$q = $q;\r\n        this.assetsService = assetsService;\r\n\r\n        const umbracoPath = Umbraco.Sys.ServerVariables.umbracoSettings.umbracoPath;\r\n        if (this.platform === 'CORE') {\r\n            this.scripts = [umbracoPath + '/lib/signalr/signalr.min.js'];\r\n        } else {\r\n            this.scripts = [\r\n                umbracoPath + '/lib/signalr/jquery.signalr.js',\r\n                umbracoPath + '/backoffice/signalr/hubs'\r\n            ];\r\n        }\r\n    }\r\n\r\n    setupHub = callback => {\r\n        let proxy;\r\n        let hub = {};\r\n\r\n        if (this.platform === 'CORE') {\r\n            $.connection = new signalR.HubConnectionBuilder()\r\n                .withUrl(Umbraco.Sys.ServerVariables.Plumber.signalRHub)\r\n                .withAutomaticReconnect()\r\n                .configureLogging(signalR.LogLevel.Warning)\r\n                .build();\r\n\r\n            proxy = $.connection;\r\n        }\r\n        else {\r\n            proxy = $.connection.plumberHub;\r\n        }\r\n\r\n        if (proxy !== undefined) {\r\n\r\n            hub = {\r\n                active: true,\r\n                start: () => {\r\n                    if (this.platform === 'CORE') {\r\n                        try {\r\n                            proxy.start()\r\n                                .then(() => { } /*console.info('Hub started =>', $.connection.connectionId)*/)\r\n                                .catch(() => console.warn('Failed to start hub'));\r\n                        } catch (e) {\r\n                            console.warn('Could not setup signalR connection', e);\r\n                        }\r\n                    }\r\n                    else {\r\n                        if ($.connection.hub.state !== $.connection.connectionState.disconnected) {\r\n                            $.connection.hub.stop(true, true);\r\n                        }\r\n                        $.connection.hub.start();\r\n                    }\r\n                },\r\n                on: (eventName, callback) => {\r\n                    proxy.on(eventName, result => {\r\n                        this.$rootScope.$apply(() => {\r\n                            if (callback) {\r\n                                callback(result);\r\n                            }\r\n                        });\r\n                    });\r\n                },\r\n                /**\r\n                 * Function is common across 472 and 5.0\r\n                 * @param methodName\r\n                 * @param callback\r\n                 */\r\n                invoke: (methodName, callback) => {\r\n                    proxy.invoke(methodName)\r\n                        .done(result =>\r\n                            this.$rootScope.$apply(() => {\r\n                                if (callback) {\r\n                                    callback(result);\r\n                                }\r\n                            }));\r\n                }\r\n            };\r\n        } else {\r\n            hub = {\r\n                on: () => { },\r\n                invoke: () => { },\r\n                start: () => console.warn('No hub to start'),\r\n            };\r\n        }\r\n\r\n        return callback(hub);\r\n    }\r\n\r\n    /**\r\n     * Function is common across 472 and 5.0\r\n     * */\r\n    processCallbacks() {\r\n        while (this.callbacks.length) {\r\n            const cb = this.callbacks.pop();\r\n            this.setupHub(cb);\r\n        }\r\n\r\n        this.starting = false;\r\n    }\r\n\r\n    /**\r\n     * Function is common across 472 and 5.0 \r\n     * @param callback\r\n     */\r\n    initHub(callback) {\r\n        this.callbacks.push(callback);\r\n\r\n        if (!this.starting) {\r\n            if ($.connection === undefined) {\r\n                this.starting = true;\r\n\r\n                const promises = [];\r\n                this.scripts.forEach(script => promises.push(this.assetsService.loadJs(script)));\r\n\r\n                this.$q.all(promises).then(() => this.processCallbacks());\r\n            } else {\r\n                this.processCallbacks();\r\n            }\r\n        }\r\n    }\r\n}","﻿export class PreflightService {\r\n\r\n    static serviceName = 'preflightService';\r\n\r\n    $http;\r\n    umbRequestHelper;\r\n\r\n    urlBase = Umbraco.Sys.ServerVariables.Preflight.ApiPath;\r\n\r\n    static helpText = `\r\n        <p>If your content is too difficult for your visitors to read, you're all going to have a bad time.</p>\r\n        <p>The readability test runs your content through the Flesch reading ease algorithm to determine text complexity.</p>\r\n        <h5>The algorithm</h5>\r\n        <p><code>RE = 206.835 - (1.015 x ASL) - (84.6 x ASW)</code></p>\r\n        <p>Where <code>RE</code> is Readability Ease, <code>ASL</code> is Average Sentence Length, and <code>ASW</code> is Average Syllables per Word</p>\r\n        <p>The result is a number between 0 and 100, where a higher score means better readability, with a score between 60 and 69 largely considered acceptable.</p>\r\n        <h5>Readability test results</h5>\r\n        <p>As well as the Flesch score, the readability test returns sentence length; average syllables per word; and long or complex words;</p>`;\r\n\r\n\r\n    constructor($http, umbRequestHelper) {\r\n        this.$http = $http;\r\n        this.umbRequestHelper = umbRequestHelper;\r\n    }\r\n\r\n    request = (method, url, data) =>\r\n        this.umbRequestHelper.resourcePromise(\r\n            method === 'GET' ? this.$http.get(this.urlBase + url) : this.$http.post(this.urlBase + url, data),\r\n            'Something broke'\r\n        );\r\n\r\n    check = id => this.request('GET', `Check/${id} `);\r\n\r\n    checkDirty = data => this.request('POST', `CheckDirty`, data);\r\n\r\n    getSettings = () => this.request('GET', `GetSettings`);\r\n\r\n    getSettingValue = alias => this.request('GET', `GetSettingValue/${alias} `);\r\n\r\n    saveSettings = (settings, tabs) => this.request('POST', `SaveSettings`, {\r\n        settings,\r\n        tabs\r\n    });\r\n\r\n    getHelpText = () => helpText;\r\n}"],"preExistingComment":"//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJzcmMvUHJlZmxpZ2h0L0JhY2tvZmZpY2UvYXBwLmpzIiwic3JjL1ByZWZsaWdodC9CYWNrb2ZmaWNlL2NvbXBvbmVudHMvX2NvbXBvbmVudHNNb2R1bGUuanMiLCJzcmMvUHJlZmxpZ2h0L0JhY2tvZmZpY2UvY29tcG9uZW50cy9jYXJkLmNvbXBvbmVudC5qcyIsInNyYy9QcmVmbGlnaHQvQmFja29mZmljZS9jb21wb25lbnRzL3Byb2dyZXNzLmRpcmVjdGl2ZS5qcyIsInNyYy9QcmVmbGlnaHQvQmFja29mZmljZS9jb21wb25lbnRzL3Jlc3VsdGludHJvLmNvbXBvbmVudC5qcyIsInNyYy9QcmVmbGlnaHQvQmFja29mZmljZS9jb21wb25lbnRzL3N0YXRlaWNvbi5jb21wb25lbnQuanMiLCJzcmMvUHJlZmxpZ2h0L0JhY2tvZmZpY2UvY29udHJvbGxlcnMvX2NvbnRyb2xsZXJzTW9kdWxlLmpzIiwic3JjL1ByZWZsaWdodC9CYWNrb2ZmaWNlL2NvbnRyb2xsZXJzL25vdGlmaWNhdGlvbi5jb250cm9sbGVyLmpzIiwic3JjL1ByZWZsaWdodC9CYWNrb2ZmaWNlL2NvbnRyb2xsZXJzL3ByZWZsaWdodC5jb250cm9sbGVyLmpzIiwic3JjL1ByZWZsaWdodC9CYWNrb2ZmaWNlL2NvbnRyb2xsZXJzL3NldHRpbmdzLmNvbnRyb2xsZXIuanMiLCJzcmMvUHJlZmxpZ2h0L0JhY2tvZmZpY2UvaW50ZXJjZXB0b3JzL3ByZWZsaWdodC5zYXZlLmludGVyY2VwdG9yLmpzIiwic3JjL1ByZWZsaWdodC9CYWNrb2ZmaWNlL3BsdWdpbnMvX3BsdWdpbnNNb2R1bGUuanMiLCJzcmMvUHJlZmxpZ2h0L0JhY2tvZmZpY2UvcGx1Z2lucy9saW5raGVhbHRoLnJlc3VsdC5jb21wb25lbnQuanMiLCJzcmMvUHJlZmxpZ2h0L0JhY2tvZmZpY2UvcGx1Z2lucy9yZWFkYWJpbGl0eS5wbHVnaW4uY29udHJvbGxlci5qcyIsInNyYy9QcmVmbGlnaHQvQmFja29mZmljZS9yZXNvdXJjZXMvX3NlcnZpY2VzTW9kdWxlLmpzIiwic3JjL1ByZWZsaWdodC9CYWNrb2ZmaWNlL3Jlc291cmNlcy9wcmVmbGlnaHQuaHViLmpzIiwic3JjL1ByZWZsaWdodC9CYWNrb2ZmaWNlL3Jlc291cmNlcy9wcmVmbGlnaHQuc2VydmljZS5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTs7O0FDQUM7O0FBQ0Q7O0FBQ0E7O0FBQ0E7O0FBRUEsSUFBTSxJQUFJLEdBQUcsV0FBYjtBQUVBLE9BQU8sQ0FBQyxNQUFSLENBQWUsSUFBZixFQUFxQixDQUNqQiw4QkFEaUIsRUFFakIsa0NBRmlCLEVBR2pCLG9DQUhpQixFQUlqQiw0QkFKaUIsQ0FBckI7QUFPQSxPQUFPLENBQUMsTUFBUixDQUFlLFNBQWYsRUFBMEIsUUFBMUIsQ0FBbUMsSUFBbkMsQ0FBd0MsSUFBeEM7Ozs7Ozs7Ozs7QUNkQzs7QUFDRDs7QUFDQTs7QUFDQTs7QUFFTyxJQUFNLGdCQUFnQixHQUFHLE9BQU8sQ0FDbEMsTUFEMkIsQ0FDcEIsc0JBRG9CLEVBQ0ksRUFESixFQUUzQixTQUYyQixDQUVqQixvQkFBYyxJQUZHLEVBRUcsbUJBRkgsRUFHM0IsU0FIMkIsQ0FHakIsa0NBQXFCLElBSEosRUFHVSxpQ0FIVixFQUkzQixTQUoyQixDQUlqQiw4QkFBbUIsSUFKRixFQUlRLDZCQUpSLEVBSzNCLFNBTDJCLENBS2pCLGtDQUF3QixhQUxQLEVBS3NCO0FBQUEsU0FBTSxJQUFJLGlDQUFKLEVBQU47QUFBQSxDQUx0QixFQU0zQixJQU5FOzs7Ozs7Ozs7Ozs7Ozs7Ozs7O0lDTEEsSTtBQWdCSCxnQkFBWSxtQkFBWixFQUFpQztBQUFBOztBQUFBOztBQUFBLHVDQUxyQixNQUtxQjs7QUFBQSw0Q0FKaEIsWUFJZ0I7O0FBQUE7O0FBQzdCLFNBQUssbUJBQUwsR0FBMkIsbUJBQTNCO0FBQ0g7Ozs7V0FFRCxtQkFBVTtBQUFBOztBQUVOLFVBQUksS0FBSyxNQUFULEVBQWlC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R0FBWCxDQUFlLEtBQUksQ0FBQyxPQUFMLEdBQWUsR0FBOUIsQ0FBbkIsR0FBd0QsS0FBSSxDQUFDLEtBQUwsQ0FBVyxJQUFYLENBQWdCLEtBQUksQ0FBQyxPQUFMLEdBQWUsR0FBL0IsRUFBb0MsSUFBcEMsQ0FENUQsRUFFSSxpQkFGSixDQURNO0FBQUEsR0FMMkI7O0FBQUEsaUNBVzdCLFVBQUEsRUFBRTtBQUFBLFdBQUksS0FBSSxDQUFDLE9BQUwsQ0FBYSxLQUFiLGtCQUE2QixFQUE3QixPQUFKO0FBQUEsR0FYMkI7O0FBQUEsc0NBYXhCLFVBQUEsSUFBSTtBQUFBLFdBQUksS0FBSSxDQUFDLE9BQUwsQ0FBYSxNQUFiLGdCQUFtQyxJQUFuQyxDQUFKO0FBQUEsR0Fib0I7O0FBQUEsdUNBZXZCO0FBQUEsV0FBTSxLQUFJLENBQUMsT0FBTCxDQUFhLEtBQWIsZ0JBQU47QUFBQSxHQWZ1Qjs7QUFBQSwyQ0FpQm5CLFVBQUEsS0FBSztBQUFBLFdBQUksS0FBSSxDQUFDLE9BQUwsQ0FBYSxLQUFiLDRCQUF1QyxLQUF2QyxPQUFKO0FBQUEsR0FqQmM7O0FBQUEsd0NBbUJ0QixVQUFDLFFBQUQsRUFBVyxJQUFYO0FBQUEsV0FBb0IsS0FBSSxDQUFDLE9BQUwsQ0FBYSxNQUFiLGtCQUFxQztBQUNwRSxNQUFBLFFBQVEsRUFBUixRQURvRTtBQUVwRSxNQUFBLElBQUksRUFBSjtBQUZvRSxLQUFyQyxDQUFwQjtBQUFBLEdBbkJzQjs7QUFBQSx1Q0F3QnZCO0FBQUEsV0FBTSxRQUFOO0FBQUEsR0F4QnVCOztBQUNqQyxPQUFLLEtBQUwsR0FBYSxLQUFiO0FBQ0EsT0FBSyxnQkFBTCxHQUF3QixnQkFBeEI7QUFDSCxDOzs7O2dCQXZCUyxnQixpQkFFVyxrQjs7Z0JBRlgsZ0IiLCJmaWxlIjoiZ2VuZXJhdGVkLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbigpe2Z1bmN0aW9uIHIoZSxuLHQpe2Z1bmN0aW9uIG8oaSxmKXtpZighbltpXSl7aWYoIWVbaV0pe3ZhciBjPVwiZnVuY3Rpb25cIj09dHlwZW9mIHJlcXVpcmUmJnJlcXVpcmU7aWYoIWYmJmMpcmV0dXJuIGMoaSwhMCk7aWYodSlyZXR1cm4gdShpLCEwKTt2YXIgYT1uZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgJ1wiK2krXCInXCIpO3Rocm93IGEuY29kZT1cIk1PRFVMRV9OT1RfRk9VTkRcIixhfXZhciBwPW5baV09e2V4cG9ydHM6e319O2VbaV1bMF0uY2FsbChwLmV4cG9ydHMsZnVuY3Rpb24ocil7dmFyIG49ZVtpXVsxXVtyXTtyZXR1cm4gbyhufHxyKX0scCxwLmV4cG9ydHMscixlLG4sdCl9cmV0dXJuIG5baV0uZXhwb3J0c31mb3IodmFyIHU9XCJmdW5jdGlvblwiPT10eXBlb2YgcmVxdWlyZSYmcmVxdWlyZSxpPTA7aTx0Lmxlbmd0aDtpKyspbyh0W2ldKTtyZXR1cm4gb31yZXR1cm4gcn0pKCkiLCLvu79pbXBvcnQgeyBTZXJ2aWNlc01vZHVsZSB9IGZyb20gJy4vcmVzb3VyY2VzL19zZXJ2aWNlc01vZHVsZSc7XHJcbmltcG9ydCB7IENvbXBvbmVudHNNb2R1bGUgfSBmcm9tICcuL2NvbXBvbmVudHMvX2NvbXBvbmVudHNNb2R1bGUnO1xyXG5pbXBvcnQgeyBDb250cm9sbGVyc01vZHVsZSB9IGZyb20gJy4vY29udHJvbGxlcnMvX2NvbnRyb2xsZXJzTW9kdWxlJztcclxuaW1wb3J0IHsgUGx1Z2luc01vZHVsZSB9IGZyb20gJy4vcGx1Z2lucy9fcGx1Z2luc01vZHVsZSc7XHJcblxyXG5jb25zdCBuYW1lID0gJ3ByZWZsaWdodCc7XHJcblxyXG5hbmd1bGFyLm1vZHVsZShuYW1lLCBbXHJcbiAgICBTZXJ2aWNlc01vZHVsZSxcclxuICAgIENvbXBvbmVudHNNb2R1bGUsXHJcbiAgICBDb250cm9sbGVyc01vZHVsZSxcclxuICAgIFBsdWdpbnNNb2R1bGUsXHJcbl0pO1xyXG5cclxuYW5ndWxhci5tb2R1bGUoJ3VtYnJhY28nKS5yZXF1aXJlcy5wdXNoKG5hbWUpOyIsIu+7v2ltcG9ydCB7IENhcmRDb21wb25lbnQgfSBmcm9tICcuL2NhcmQuY29tcG9uZW50JztcclxuaW1wb3J0IHsgUHJvZ3Jlc3NDaXJjbGVEaXJlY3RpdmUgfSBmcm9tICcuL3Byb2dyZXNzLmRpcmVjdGl2ZSc7XHJcbmltcG9ydCB7IFJlc3VsdEludHJvQ29tcG9uZW50IH0gZnJvbSAnLi9yZXN1bHRpbnRyby5jb21wb25lbnQnO1xyXG5pbXBvcnQgeyBTdGF0ZUljb25Db21wb25lbnQgfSBmcm9tICcuL3N0YXRlaWNvbi5jb21wb25lbnQnO1xyXG5cclxuZXhwb3J0IGNvbnN0IENvbXBvbmVudHNNb2R1bGUgPSBhbmd1bGFyXHJcbiAgICAubW9kdWxlKCdwcmVmbGlnaHQuY29tcG9uZW50cycsIFtdKVxyXG4gICAgLmNvbXBvbmVudChDYXJkQ29tcG9uZW50Lm5hbWUsIENhcmRDb21wb25lbnQpXHJcbiAgICAuY29tcG9uZW50KFJlc3VsdEludHJvQ29tcG9uZW50Lm5hbWUsIFJlc3VsdEludHJvQ29tcG9uZW50KVxyXG4gICAgLmNvbXBvbmVudChTdGF0ZUljb25Db21wb25lbnQubmFtZSwgU3RhdGVJY29uQ29tcG9uZW50KVxyXG4gICAgLmRpcmVjdGl2ZShQcm9ncmVzc0NpcmNsZURpcmVjdGl2ZS5kaXJlY3RpdmVOYW1lLCAoKSA9PiBuZXcgUHJvZ3Jlc3NDaXJjbGVEaXJlY3RpdmUoKSlcclxuICAgIC5uYW1lOyIsIu+7v2NsYXNzIENhcmQge1xyXG5cclxuICAgIHRlbXBsYXRlID0gYFxyXG4gICAgICAgIDxkaXYgY2xhc3M9XCJjYXJkIHt7IDo6JGN0cmwuY2FyZENsYXNzIH19XCI+XHJcbiAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwiY2FyZC1zY29yZSB7eyA6OiRjdHJsLmNhcmRTY29yZUNsYXNzIH19XCIgbmctYmluZD1cIjo6JGN0cmwuc2NvcmVcIj48L3NwYW4+XHJcbiAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwiY2FyZC10aXRsZVwiPlxyXG4gICAgICAgICAgICAgICAge3sgOjokY3RybC50aXRsZSB9fTxiciAvPlxyXG4gICAgICAgICAgICAgICAge3sgOjokY3RybC5zdWJ0aXRsZSB9fVxyXG4gICAgICAgICAgICA8L3NwYW4+XHJcbiAgICAgICAgPC9kaXY+YDtcclxuXHJcbiAgICBjYXJkQ2xhc3MgPSAncGFzcyc7XHJcbiAgICBjYXJkU2NvcmVDbGFzcyA9ICdwYXNzLWNvbG9yJztcclxuXHJcbiAgICBsb2NhbGl6YXRpb25TZXJ2aWNlO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKGxvY2FsaXphdGlvblNlcnZpY2UpIHtcclxuICAgICAgICB0aGlzLmxvY2FsaXphdGlvblNlcnZpY2UgPSBsb2NhbGl6YXRpb25TZXJ2aWNlO1xyXG4gICAgfVxyXG5cclxuICAgICRvbkluaXQoKSB7XHJcblxyXG4gICAgICAgIGlmICh0aGlzLmZhaWxlZCkge1xyXG4gICAgICAgICAgICB0aGlzLmNhcmRDbGFzcyA9ICdmYWlsJztcclxuICAgICAgICAgICAgdGhpcy5jYXJkU2NvcmVDbGFzcyA9ICdmYWlsLWNvbG9yJztcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICh0aGlzLnRpdGxlWzBdID09PSAnQCcpIHtcclxuICAgICAgICAgICAgbG9jYWxpemF0aW9uU2VydmljZS5sb2NhbGl6ZSh0aGlzLnRpdGxlLCB0aGlzLnRva2VucylcclxuICAgICAgICAgICAgICAgIC50aGVuKGxvY2FsaXplZFRpdGxlID0+IHRoaXMudGl0bGUgPSBsb2NhbGl6ZWRUaXRsZSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAodGhpcy5zdWJ0aXRsZVswXSA9PT0gJ0AnKSB7XHJcbiAgICAgICAgICAgIHRoaXMubG9jYWxpemF0aW9uU2VydmljZS5sb2NhbGl6ZSh0aGlzLnN1YnRpdGxlLCB0aGlzLnRva2VucylcclxuICAgICAgICAgICAgICAgIC50aGVuKGxvY2FsaXplZFN1YnRpdGxlID0+IHRoaXMuc3VidGl0bGUgPSBsb2NhbGl6ZWRTdWJ0aXRsZSk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxufVxyXG5cclxuZXhwb3J0IGNvbnN0IENhcmRDb21wb25lbnQgPSB7XHJcbiAgICB0cmFuc2NsdWRlOiB0cnVlLFxyXG4gICAgbmFtZTogJ2NhcmQnLFxyXG4gICAgYmluZGluZ3M6IHtcclxuICAgICAgICB0aXRsZTogJ0A/JyxcclxuICAgICAgICBzdWJ0aXRsZTogJ0A/JyxcclxuICAgICAgICBmYWlsZWQ6ICc8JyxcclxuICAgICAgICBzY29yZTogJzwnLFxyXG4gICAgICAgIHRva2VuczogJzwnXHJcbiAgICB9LFxyXG4gICAgdGVtcGxhdGU6IENhcmQudGVtcGxhdGUsXHJcbiAgICBjb250cm9sbGVyOiBDYXJkXHJcbn07XHJcbiIsIu+7v2V4cG9ydCBjbGFzcyBQcm9ncmVzc0NpcmNsZURpcmVjdGl2ZSB7XG5cbiAgICBzdGF0aWMgZGlyZWN0aXZlTmFtZSA9IFwicHJvZ3Jlc3NDaXJjbGVcIjtcblxuICAgIHJlc3RyaWN0ID0gJ0UnO1xuICAgIHJlcGxhY2UgPSB0cnVlO1xuICAgIHNjb3BlID0ge1xuICAgICAgICBzaXplOiAnQD8nLFxuICAgICAgICBwZXJjZW50YWdlOiAnPScsXG4gICAgICAgIGRvbmU6ICdAJyxcbiAgICAgICAgZm9yZWdyb3VuZDogJ0AnLFxuICAgICAgICBiYWNrZ3JvdW5kOiAnQCdcbiAgICB9O1xuXG4gICAgdGVtcGxhdGUgPSBgXG4gICAgICAgIDxkaXYgY2xhc3M9XCJ1bWItcHJvZ3Jlc3MtY2lyY2xlIHByZWZsaWdodC1wcm9ncmVzc1wiIG5nLXN0eWxlPVwieyd3aWR0aCc6IHNpemUsICdoZWlnaHQnOiBzaXplIH1cIj4ge3sgcGVyY2VudCB9fVxuICAgICAgICAgICAgPHN2ZyBjbGFzcz1cInVtYi1wcm9ncmVzcy1jaXJjbGVfX3ZpZXctYm94XCIgdmlld0JveD1cIjAgMCAzMy44MzA5ODg2MiAzMy44MzA5ODg2MlwiPiBcbiAgICAgICAgICAgICAgICA8Y2lyY2xlIGNsYXNzPVwidW1iLXByb2dyZXNzLWNpcmNsZV9faGlnaGxpZ2h0LS17eyBiYWNrZ3JvdW5kIH19XCIgY3g9XCIxNi45MTU0OTQzMVwiIGN5PVwiMTYuOTE1NDk0MzFcIiByPVwiMTUuOTE1NDk0MzFcIiBmaWxsPVwibm9uZVwiIHN0cm9rZS13aWR0aD1cIi41XCI+PC9jaXJjbGU+XG4gICAgICAgICAgICAgICAgPGNpcmNsZSBjbGFzcz1cInVtYi1wcm9ncmVzcy1jaXJjbGVfX2hpZ2hsaWdodCB1bWItcHJvZ3Jlc3MtY2lyY2xlX19oaWdobGlnaHQtLXt7IGZvcmVncm91bmQgfX1cIiBcbiAgICAgICAgICAgICAgICAgICAgY3g9XCIxNi45MTU0OTQzMVwiIGN5PVwiMTYuOTE1NDk0MzFcIiByPVwiMTUuOTE1NDk0MzFcIiBzdHJva2UtbGluZWNhcD1cInJvdW5kXCIgZmlsbD1cIm5vbmVcIiBzdHJva2Utd2lkdGg9XCIyXCIgc3Ryb2tlLWRhc2hhcnJheT1cInt7IGRhc2hBcnJheSB9fVwiPjwvY2lyY2xlPiBcbiAgICAgICAgICAgIDwvc3ZnPiBcbiAgICAgICAgICAgIDxkaXYgbmctc3R5bGU9XCJ7J2ZvbnQtc2l6ZSc6IHBlcmNlbnRhZ2VTaXplfVwiIGNsYXNzPVwidW1iLXByb2dyZXNzLWNpcmNsZV9fcGVyY2VudGFnZVwiPlxuICAgICAgICAgICAgICAgIHt7IGxhYmVsIH19XG4gICAgICAgICAgICAgICAgPHNtYWxsPnBhc3MgcmF0ZTwvc21hbGw+ICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PmA7XG5cbiAgICBsaW5rKHNjb3BlLCBlbGVtZW50KSB7XG4gICAgICAgIGZ1bmN0aW9uIG9uSW5pdCgpIHtcblxuICAgICAgICAgICAgLy8gbWFraW5nIHN1cmUgd2UgZ2V0IHRoZSByaWdodCBudW1iZXJzXG4gICAgICAgICAgICBsZXQgcGVyY2VudCA9IE1hdGgucm91bmQoc2NvcGUucGVyY2VudGFnZSk7XG4gICAgICAgICAgICBwZXJjZW50ID0gcGVyY2VudCA+IDEwMCA/IDEwMCA6IHBlcmNlbnQgfHwgMDtcblxuICAgICAgICAgICAgLy8gY2FsY3VsYXRpbmcgdGhlIGNpcmNsZSdzIGhpZ2hsaWdodFxuICAgICAgICAgICAgY29uc3QgciA9IGVsZW1lbnQuZmluZCgnLnVtYi1wcm9ncmVzcy1jaXJjbGVfX2hpZ2hsaWdodCcpLmF0dHIoJ3InKTtcbiAgICAgICAgICAgIGNvbnN0IHBhdGhMZW5ndGggPSByICogTWF0aC5QSSAqIDIgKiBwZXJjZW50IC8gMTAwO1xuXG4gICAgICAgICAgICAvLyBGdWxsIGNpcmNsZSBsZW5ndGhcbiAgICAgICAgICAgIHNjb3BlLmRhc2hBcnJheSA9IGAke3BhdGhMZW5ndGh9LDEwMGA7XG5cbiAgICAgICAgICAgIC8vIHNldCBmb250IHNpemVcbiAgICAgICAgICAgIHNjb3BlLnBlcmNlbnRhZ2VTaXplID0gc2NvcGUuc2l6ZSAqIDAuMyArICdweCc7XG5cbiAgICAgICAgICAgIC8vIHVzZSByb3VuZGVkIHBlcmNlbnRhZ2VcbiAgICAgICAgICAgIHNjb3BlLmxhYmVsID0gYCR7cGVyY2VudH0lYDtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHdhdGNoZXIgPSBzY29wZS4kd2F0Y2goJ3BlcmNlbnRhZ2UnLCBvbkluaXQpO1xuXG4gICAgICAgIHNjb3BlLiRvbignJGRlc3Ryb3knLCB3YXRjaGVyKCkpO1xuICAgIH1cbn1cbiIsIu+7v2NsYXNzIFJlc3VsdEludHJvIHtcclxuICAgIC8qKlxyXG4gICAgICogRGlyZWN0aXZlIHVzZWQgdG8gcmVuZGVyIHRoZSBoZWFkaW5nIGZvciBhIHBsdWdpbiBpbiB0aGUgcmVzdWx0cyB2aWV3XHJcbiAgICAgKiBTZW5kIGEgc3RyaW5naWZpZWQgYXJyYXkgYXMgdGhlIHRva2VucyBhdHRyaWJ1dGUgdG8gcmVwbGFjZSAlMCUsICUxJSAuLiAlbiUgaW4gdGhlIGxvY2FsaXplZCBzdHJpbmdcclxuICAgICAqL1xyXG5cclxuICAgIHN0YXRpYyB0ZW1wbGF0ZSA9IGBcclxuICAgICAgICA8aDUgbmctYmluZD1cIjo6JGN0cmwuaGVhZGluZ1wiPjwvaDU+XHJcbiAgICAgICAgPHNwYW4gbmctaWY9XCIkY3RybC5wYXNzXCIgbmctYmluZD1cIjo6JGN0cmwucGFzc1RleHRcIj48L3NwYW4+YDtcclxuXHJcbiAgICBsb2NhbGl6YXRpb25TZXJ2aWNlO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKGxvY2FsaXphdGlvblNlcnZpY2UpIHtcclxuICAgICAgICB0aGlzLmxvY2FsaXphdGlvblNlcnZpY2UgPSBsb2NhbGl6YXRpb25TZXJ2aWNlO1xyXG4gICAgfVxyXG5cclxuICAgICRvbkluaXQoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMucGFzc1RleHRbMF0gPT09ICdAJykge1xyXG4gICAgICAgICAgICB0aGlzLmxvY2FsaXphdGlvblNlcnZpY2UubG9jYWxpemUodGhpcy5wYXNzVGV4dCwgdGhpcy50b2tlbnMpXHJcbiAgICAgICAgICAgICAgICAudGhlbihsb2NhbGl6ZWRQYXNzVGV4dCA9PiB0aGlzLnBhc3NUZXh0ID0gbG9jYWxpemVkUGFzc1RleHQpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKHRoaXMuaGVhZGluZ1swXSA9PT0gJ0AnKSB7XHJcbiAgICAgICAgICAgIHRoaXMubG9jYWxpemF0aW9uU2VydmljZS5sb2NhbGl6ZSh0aGlzLmhlYWRpbmcsIHRoaXMudG9rZW5zKVxyXG4gICAgICAgICAgICAgICAgLnRoZW4obG9jYWxpemVkSGVhZGluZyA9PiB0aGlzLmhlYWRpbmcgPSBsb2NhbGl6ZWRIZWFkaW5nKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG59XHJcblxyXG5leHBvcnQgY29uc3QgUmVzdWx0SW50cm9Db21wb25lbnQgPSB7XHJcbiAgICB0cmFuc2NsdWRlOiB0cnVlLFxyXG4gICAgbmFtZTogJ3Jlc3VsdEludHJvJyxcclxuICAgIGJpbmRpbmdzOiB7XHJcbiAgICAgICAgdG9rZW5zOiAnPCcsXHJcbiAgICAgICAgcGFzc1RleHQ6ICdAPycsXHJcbiAgICAgICAgaGVhZGluZzogJ0A/JyxcclxuICAgICAgICBwYXNzOiAnPCdcclxuICAgIH0sXHJcbiAgICB0ZW1wbGF0ZTogUmVzdWx0SW50cm8udGVtcGxhdGUsXHJcbiAgICBjb250cm9sbGVyOiBSZXN1bHRJbnRyb1xyXG59OyIsIu+7v2NsYXNzIFN0YXRlSWNvbiB7XHJcblxyXG4gICAgc3RhdGljIHRlbXBsYXRlID0gYFxyXG4gICAgICAgIDxkaXYgY2xhc3M9XCJzdGF0ZS1pY29uIHt7IDo6JGN0cmwuY2xhc3NOYW1lIH19XCI+XHJcbiAgICAgICAgICAgIDxpIGNsYXNzPVwiaWNvbiBpY29uLXt7IDo6JGN0cmwuaWNvbiB9fVwiPjwvaT5cclxuICAgICAgICA8L2Rpdj5gO1xyXG5cclxuICAgIGljb24gPSAncG93ZXInO1xyXG4gICAgY2xhc3NOYW1lID0gJ2Rpc2FibGVkJztcclxuXHJcbiAgICAkb25Jbml0KCkge1xyXG4gICAgICAgIGlmICghdGhpcy5kaXNhYmxlZCkge1xyXG4gICAgICAgICAgICB0aGlzLmljb24gPSB0aGlzLmZhaWxlZCA/ICdkZWxldGUnIDogJ2NoZWNrJztcclxuICAgICAgICAgICAgdGhpcy5jbGFzc05hbWUgPSB0aGlzLmZhaWxlZCA/ICdmYWlsJyA6ICdwYXNzJztcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG59XHJcblxyXG5leHBvcnQgY29uc3QgU3RhdGVJY29uQ29tcG9uZW50ID0ge1xyXG4gICAgdHJhbnNjbHVkZTogdHJ1ZSxcclxuICAgIG5hbWU6ICdzdGF0ZUljb24nLFxyXG4gICAgYmluZGluZ3M6IHtcclxuICAgICAgICBmYWlsZWQ6ICc8JyxcclxuICAgICAgICBkaXNhYmxlZDogJzwnXHJcbiAgICB9LFxyXG4gICAgdGVtcGxhdGU6IFN0YXRlSWNvbi50ZW1wbGF0ZSxcclxuICAgIGNvbnRyb2xsZXI6IFN0YXRlSWNvbixcclxufTtcclxuIiwi77u/aW1wb3J0IHsgUHJlZmxpZ2h0Q29udHJvbGxlciB9IGZyb20gJy4vcHJlZmxpZ2h0LmNvbnRyb2xsZXInO1xyXG5pbXBvcnQgeyBOb3RpZmljYXRpb25Db250cm9sbGVyIH0gZnJvbSAnLi9ub3RpZmljYXRpb24uY29udHJvbGxlcic7XHJcbmltcG9ydCB7IFNldHRpbmdzQ29udHJvbGxlciB9IGZyb20gJy4vc2V0dGluZ3MuY29udHJvbGxlcic7XHJcblxyXG5leHBvcnQgY29uc3QgQ29udHJvbGxlcnNNb2R1bGUgPSBhbmd1bGFyXHJcbiAgICAubW9kdWxlKCdwcmVmbGlnaHQuY29udHJvbGxlcnMnLCBbXSlcclxuICAgIC5jb250cm9sbGVyKFByZWZsaWdodENvbnRyb2xsZXIuY29udHJvbGxlck5hbWUsIFByZWZsaWdodENvbnRyb2xsZXIpXHJcbiAgICAuY29udHJvbGxlcihOb3RpZmljYXRpb25Db250cm9sbGVyLmNvbnRyb2xsZXJOYW1lLCBOb3RpZmljYXRpb25Db250cm9sbGVyKVxyXG4gICAgLmNvbnRyb2xsZXIoU2V0dGluZ3NDb250cm9sbGVyLmNvbnRyb2xsZXJOYW1lLCBTZXR0aW5nc0NvbnRyb2xsZXIpXHJcbiAgICAubmFtZTsiLCLvu79leHBvcnQgY2xhc3MgTm90aWZpY2F0aW9uQ29udHJvbGxlciB7XHJcblxyXG4gICAgc3RhdGljIGNvbnRyb2xsZXJOYW1lID0gJ3ByZWZsaWdodC5ub3RpZmljYXRpb24uY29udHJvbGxlcic7XHJcblxyXG4gICAgJHJvb3RTY29wZTtcclxuICAgIG5vdGlmaWNhdGlvbnNTZXJ2aWNlO1xyXG4gICAgZWRpdG9yU3RhdGU7XHJcblxyXG4gICAgc2F2ZUNhbmNlbGxlZDtcclxuXHJcbiAgICBjb25zdHJ1Y3Rvcigkcm9vdFNjb3BlLCBub3RpZmljYXRpb25zU2VydmljZSwgZWRpdG9yU3RhdGUpIHtcclxuICAgICAgICB0aGlzLiRyb290U2NvcGUgPSAkcm9vdFNjb3BlO1xyXG4gICAgICAgIHRoaXMubm90aWZpY2F0aW9uc1NlcnZpY2UgPSBub3RpZmljYXRpb25zU2VydmljZTtcclxuICAgICAgICB0aGlzLmVkaXRvclN0YXRlID0gZWRpdG9yU3RhdGU7XHJcblxyXG4gICAgICAgIHRoaXMuc2F2ZUNhbmNlbGxlZCA9ICtub3RpZmljYXRpb25zU2VydmljZS5jdXJyZW50WzBdLmFyZ3Muc2F2ZUNhbmNlbGxlZCA9PT0gMTtcclxuICAgIH1cclxuXHJcbiAgICBzd2l0Y2ggPSBuID0+IHtcclxuICAgICAgICB0aGlzLiRyb290U2NvcGUuJGVtaXQoJ3Nob3dQcmVmbGlnaHQnLCB7IG5vZGVJZDogdGhpcy5lZGl0b3JTdGF0ZS5jdXJyZW50LmlkIH0pO1xyXG4gICAgICAgIHRoaXMuZGlzY2FyZChuKTtcclxuICAgIH07XHJcblxyXG4gICAgZGlzY2FyZCA9IG4gPT4ge1xyXG4gICAgICAgIHRoaXMubm90aWZpY2F0aW9uc1NlcnZpY2UucmVtb3ZlKG4pO1xyXG4gICAgfTtcclxufVxyXG4iLCLvu79leHBvcnQgY2xhc3MgUHJlZmxpZ2h0Q29udHJvbGxlciB7XHJcblxyXG4gICAgc3RhdGljIGNvbnRyb2xsZXJOYW1lID0gJ3ByZWZsaWdodC5jb250cm9sbGVyJztcclxuXHJcbiAgICAkc2NvcGU7XHJcbiAgICAkcm9vdFNjb3BlO1xyXG4gICAgJGVsZW1lbnQ7XHJcbiAgICAkdGltZW91dDtcclxuICAgIGVkaXRvclN0YXRlO1xyXG4gICAgcHJlZmxpZ2h0U2VydmljZTtcclxuICAgIHByZWZsaWdodEh1YjtcclxuXHJcbiAgICBkaXJ0eUhhc2hlcyA9IHt9O1xyXG4gICAgdmFsaWRQcm9wVHlwZXM7XHJcbiAgICBwcm9wc0JlaW5nQ2hlY2tlZCA9IFtdO1xyXG4gICAgcHJvcGVydGllc1RvVHJhY2sgPSBbXTtcclxuICAgIGRpcnR5UHJvcHMgPSBbXTtcclxuXHJcbiAgICByZXN1bHRzID0ge1xyXG4gICAgICAgIHByb3BlcnRpZXM6IFtdXHJcbiAgICB9O1xyXG5cclxuICAgIG5vVGVzdHMgPSBmYWxzZTtcclxuICAgIHBlcmNlbnRhZ2VEb25lID0gMjA7XHJcbiAgICBwcm9ncmVzc1N0ZXAgPSAwO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKCRzY29wZSwgJHJvb3RTY29wZSwgJGVsZW1lbnQsICR0aW1lb3V0LCBlZGl0b3JTdGF0ZSwgcHJlZmxpZ2h0U2VydmljZSwgcHJlZmxpZ2h0SHViKSB7XHJcbiAgICAgICAgdGhpcy4kc2NvcGUgPSAkc2NvcGU7XHJcbiAgICAgICAgdGhpcy4kcm9vdFNjb3BlID0gJHJvb3RTY29wZTtcclxuICAgICAgICB0aGlzLiRlbGVtZW50ID0gJGVsZW1lbnQ7XHJcbiAgICAgICAgdGhpcy4kdGltZW91dCA9ICR0aW1lb3V0O1xyXG4gICAgICAgIHRoaXMuZWRpdG9yU3RhdGUgPSBlZGl0b3JTdGF0ZTtcclxuICAgICAgICB0aGlzLnByZWZsaWdodFNlcnZpY2UgPSBwcmVmbGlnaHRTZXJ2aWNlO1xyXG4gICAgICAgIHRoaXMucHJlZmxpZ2h0SHViID0gcHJlZmxpZ2h0SHViO1xyXG5cclxuICAgICAgICB0aGlzLnZhbGlkUHJvcFR5cGVzID0gVW1icmFjby5TeXMuU2VydmVyVmFyaWFibGVzLlByZWZsaWdodC5Qcm9wZXJ0eVR5cGVzVG9DaGVjaztcclxuXHJcbiAgICAgICAgdGhpcy4kc2NvcGUubW9kZWwuYmFkZ2UgPSB7XHJcbiAgICAgICAgICAgIHR5cGU6ICdpbmZvJ1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgICRyb290U2NvcGUuJG9uKCdhcHAudGFiQ2hhbmdlJywgKGUsIGRhdGEpID0+IHtcclxuICAgICAgICAgICAgaWYgKGRhdGEuYWxpYXMgPT09ICdwcmVmbGlnaHQnKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBjb2xsYXBzZSBvcGVuIG5jIGNvbnRyb2xzLCB0aW1lb3V0cyBwcmV2ZW50ICRhcHBseSBlcnJvcnNcclxuICAgICAgICAgICAgICAgIGZvciAobGV0IG9wZW5OYyBvZiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcudW1iLW5lc3RlZC1jb250ZW50X19pdGVtLS1hY3RpdmUgLnVtYi1uZXN0ZWQtY29udGVudF9faGVhZGVyLWJhcicpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJHRpbWVvdXQoKCkgPT4gb3Blbk5jLmNsaWNrKCkpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICR0aW1lb3V0KCgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmNoZWNrRGlydHkoKTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNldEJhZGdlQ291bnQoKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICRyb290U2NvcGUuJG9uKCdzaG93UHJlZmxpZ2h0JywgKGV2ZW50LCBkYXRhKSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChkYXRhLm5vZGVJZCA9PT0gJHNjb3BlLmNvbnRlbnQuaWQpIHtcclxuICAgICAgICAgICAgICAgIC8vIG5lZWRzIHRvIGZpbmQgYXBwIGNsb3Nlc3QgdG8gY3VycmVudCBzY29wZVxyXG4gICAgICAgICAgICAgICAgY29uc3QgYXBwTGluayA9ICRlbGVtZW50LmNsb3Nlc3QoJ2Zvcm0nKS5maW5kKCdbZGF0YS1lbGVtZW50PVwic3ViLXZpZXctcHJlZmxpZ2h0XCJdJyk7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKGFwcExpbmspIHtcclxuICAgICAgICAgICAgICAgICAgICBhcHBMaW5rLmNsaWNrKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBcclxuICAgICAqIEBwYXJhbSB7YW55fSBhcnJcclxuICAgICAqL1xyXG4gICAgam9pbkxpc3QgPSBhcnIgPT4ge1xyXG4gICAgICAgIGxldCBvdXRTdHI7XHJcbiAgICAgICAgaWYgKGFyci5sZW5ndGggPT09IDEpIHtcclxuICAgICAgICAgICAgb3V0U3RyID0gYXJyWzBdO1xyXG4gICAgICAgIH0gZWxzZSBpZiAoYXJyLmxlbmd0aCA9PT0gMikge1xyXG4gICAgICAgICAgICBvdXRTdHIgPSBhcnIuam9pbignIGFuZCAnKTtcclxuICAgICAgICB9IGVsc2UgaWYgKGFyci5sZW5ndGggPiAyKSB7XHJcbiAgICAgICAgICAgIG91dFN0ciA9IGFyci5zbGljZSgwLCAtMSkuam9pbignLCAnKSArICcsIGFuZCAnICsgYXJyLnNsaWNlKC0xKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiBvdXRTdHI7XHJcbiAgICB9O1xyXG5cclxuXHJcbiAgICAvKipcclxuICAgICAqIENvbnZlcnQgYSBzdHJpbmcgdG8gYSBoYXNoIGZvciBzdG9yYWdlIGFuZCBjb21wYXJpc29uLlxyXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHMgLSB0aGUgc3RyaW5nIHRvIGhhc2hpZnlcclxuICAgICAqIEByZXR1cm5zIHtpbnR9IHRoZSBnZW5lcmF0ZWQgaGFzaFxyXG4gICAgICovXHJcbiAgICBnZXRIYXNoID0gcyA9PiBzID8gcy5zcGxpdCgnJykucmVkdWNlKChhLCBiKSA9PiB7XHJcbiAgICAgICAgYSA9IChhIDw8IDUpIC0gYSArIGIuY2hhckNvZGVBdCgwKTtcclxuICAgICAgICByZXR1cm4gYSAmIGE7XHJcbiAgICB9LCAwKSA6IDE7XHJcblxyXG5cclxuICAgIC8qKlxyXG4gICAgICogR2V0IHByb3BlcnR5IGJ5IGFsaWFzIGZyb20gdGhlIGN1cnJlbnQgdmFyaWFudFxyXG4gICAgICogQHBhcmFtIHthbnl9IGFsaWFzXHJcbiAgICAgKi9cclxuICAgIGdldFByb3BlcnR5ID0gYWxpYXMgPT4ge1xyXG4gICAgICAgIGZvciAobGV0IHRhYiBvZiB0aGlzLmVkaXRvclN0YXRlLmN1cnJlbnQudmFyaWFudHMuZmluZCh4ID0+IHguYWN0aXZlKS50YWJzKSB7XHJcbiAgICAgICAgICAgIGZvciAobGV0IHByb3Agb2YgdGFiLnByb3BlcnRpZXMpIHtcclxuICAgICAgICAgICAgICAgIGlmIChwcm9wLmFsaWFzID09PSBhbGlhcykge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBwcm9wO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBcclxuICAgICAqIEBwYXJhbSB7YW55fSBlZGl0b3JcclxuICAgICAqL1xyXG4gICAgb25Db21wbGV0ZSA9ICgpID0+IHtcclxuICAgICAgICAvLyBpdCdzIHBvc3NpYmxlIG5vIHRlc3RzIHJhbiwgaW4gd2hpY2ggY2FzZSByZXN1bHRzIHdvbid0IGV4aXN0XHJcbiAgICAgICAgdGhpcy5ub1Rlc3RzID0gdGhpcy5yZXN1bHRzLnByb3BlcnRpZXMuZXZlcnkoeCA9PiAheC5wbHVnaW5zLmxlbmd0aCk7XHJcbiAgICAgICAgaWYgKHRoaXMubm9UZXN0cykge1xyXG4gICAgICAgICAgICB0aGlzLiRzY29wZS5tb2RlbC5iYWRnZSA9IHVuZGVmaW5lZDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGZvciAobGV0IHAgb2YgdGhpcy5yZXN1bHRzLnByb3BlcnRpZXMpIHtcclxuICAgICAgICAgICAgcC5kaXNhYmxlZCA9IHAuZmFpbGVkQ291bnQgPT09IC0xO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5zaG93U3VjY2Vzc01lc3NhZ2UgPSAhdGhpcy5yZXN1bHRzLmZhaWxlZCAmJiAhdGhpcy5ub1Rlc3RzO1xyXG4gICAgICAgIHRoaXMuZG9uZSA9IHRydWU7XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogSXMgdGhlIGVkaXRvciBwYXJhbSBVbWJyYWNvLkdyaWQgb3IgVW1icmFjby5OZXN0ZWRDb250ZW50P1xyXG4gICAgICogQHBhcmFtIHthbnl9IGVkaXRvclxyXG4gICAgICovXHJcbiAgICBpc0pzb25Qcm9wZXJ0eSA9IGVkaXRvciA9PiBlZGl0b3IgPT09ICdVbWJyYWNvLkdyaWQnIHx8IGVkaXRvciA9PT0gJ1VtYnJhY28uTmVzdGVkQ29udGVudCc7XHJcblxyXG5cclxuICAgIC8qKlxyXG4gICAgICogVXBkYXRlcyB0aGUgYmFkZ2UgaW4gdGhlIGhlYWRlciB3aXRoIHRoZSBudW1iZXIgb2YgZmFpbGVkIHRlc3RzXHJcbiAgICAgKi9cclxuICAgIHNldEJhZGdlQ291bnQgPSBwZW5kaW5nID0+IHtcclxuICAgICAgICBpZiAocGVuZGluZykge1xyXG4gICAgICAgICAgICB0aGlzLiRzY29wZS5tb2RlbC5iYWRnZSA9IHtcclxuICAgICAgICAgICAgICAgIHR5cGU6ICd3YXJuaW5nJ1xyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAodGhpcy5yZXN1bHRzICYmIHRoaXMucmVzdWx0cy5mYWlsZWRDb3VudCA+IDApIHtcclxuICAgICAgICAgICAgdGhpcy4kc2NvcGUubW9kZWwuYmFkZ2UgPSB7XHJcbiAgICAgICAgICAgICAgICBjb3VudDogdGhpcy5yZXN1bHRzLmZhaWxlZENvdW50LFxyXG4gICAgICAgICAgICAgICAgdHlwZTogJ2FsZXJ0J1xyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMuJHNjb3BlLm1vZGVsLmJhZGdlID0ge1xyXG4gICAgICAgICAgICAgICAgdHlwZTogJ3N1Y2Nlc3MgaWNvbi0nXHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBVcGRhdGVzIHRoZSBwcm9wZXJ0eSBzZXQgd2l0aCB0aGUgbmV3IHZhbHVlLCBhbmQgcmVtb3ZlcyBhbnkgdGVtcG9yYXJ5IHByb3BlcnR5IGZyb20gdGhhdCBzZXRcclxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBkYXRhIC0gYSByZXNwb25zZSBtb2RlbCBpdGVtIHJldHVybmVkIHZpYSB0aGUgc2lnbmFsciBodWJcclxuICAgICAqL1xyXG4gICAgcmViaW5kUmVzdWx0ID0gZGF0YSA9PiB7XHJcblxyXG4gICAgICAgIGxldCBuZXdQcm9wID0gdHJ1ZTtcclxuICAgICAgICBsZXQgdG90YWxUZXN0c1J1biA9IDA7XHJcbiAgICAgICAgbGV0IGV4aXN0aW5nUHJvcCA9IHRoaXMucmVzdWx0cy5wcm9wZXJ0aWVzLmZpbmQoeCA9PiB4LmxhYmVsID09PSBkYXRhLmxhYmVsKTtcclxuXHJcbiAgICAgICAgaWYgKGV4aXN0aW5nUHJvcCkge1xyXG4gICAgICAgICAgICBleGlzdGluZ1Byb3AgPSBPYmplY3QuYXNzaWduKGV4aXN0aW5nUHJvcCwgZGF0YSk7XHJcbiAgICAgICAgICAgIGV4aXN0aW5nUHJvcC5sb2FkaW5nID0gZmFsc2U7XHJcbiAgICAgICAgICAgIG5ld1Byb3AgPSBmYWxzZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIGEgbmV3IHByb3BlcnR5IHdpbGwgaGF2ZSBhIHRlbXBvcmFyeSBwbGFjZWhvbGRlciAtIHJlbW92ZSBpdFxyXG4gICAgICAgIC8vIF90ZW1wIGVuc3VyZXMgZ3JpZCB3aXRoIG11bHRpcGxlIGVkaXRvcnMgb25seSByZW1vdmVzIHRoZSBjb3JyZWN0IHRlbXAgZW50cnlcclxuICAgICAgICBpZiAobmV3UHJvcCAmJiAhZGF0YS5yZW1vdmUgJiYgZGF0YS5mYWlsZWRDb3VudCAhPT0gLTEpIHtcclxuICAgICAgICAgICAgY29uc3QgdGVtcEluZGV4ID0gdGhpcy5yZXN1bHRzLnByb3BlcnRpZXMuZmluZEluZGV4KHAgPT4gcC5uYW1lID09PSBgJHtkYXRhLm5hbWV9X3RlbXBgKTtcclxuICAgICAgICAgICAgaWYgKHRlbXBJbmRleCAhPT0gLTEpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMucmVzdWx0cy5wcm9wZXJ0aWVzLnNwbGljZSh0ZW1wSW5kZXgsIDEpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRoaXMucmVzdWx0cy5wcm9wZXJ0aWVzLnB1c2goZGF0YSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLnJlc3VsdHMucHJvcGVydGllcyA9IHRoaXMucmVzdWx0cy5wcm9wZXJ0aWVzLmZpbHRlcih4ID0+IHgucmVtb3ZlID09PSBmYWxzZSk7XHJcbiAgICAgICAgdGhpcy5yZXN1bHRzLnByb3BlcnRpZXMgPSB0aGlzLnJlc3VsdHMucHJvcGVydGllcy5maWx0ZXIoeCA9PiB4LmZhaWxlZENvdW50ID4gLTEpO1xyXG5cclxuICAgICAgICB0aGlzLnJlc3VsdHMuZmFpbGVkQ291bnQgPSB0aGlzLnJlc3VsdHMucHJvcGVydGllcy5yZWR1Y2UoKHByZXYsIGN1cikgPT4ge1xyXG4gICAgICAgICAgICB0b3RhbFRlc3RzUnVuICs9IGN1ci50b3RhbFRlc3RzO1xyXG4gICAgICAgICAgICByZXR1cm4gcHJldiArIGN1ci5mYWlsZWRDb3VudDtcclxuICAgICAgICB9LCAwKTtcclxuXHJcbiAgICAgICAgdGhpcy5yZXN1bHRzLmZhaWxlZCA9IHRoaXMucmVzdWx0cy5mYWlsZWRDb3VudCA+IDA7XHJcbiAgICAgICAgdGhpcy5wcm9wc0JlaW5nQ2hlY2tlZFN0ciA9IHRoaXMuam9pbkxpc3QodGhpcy5wcm9wc0JlaW5nQ2hlY2tlZC5zcGxpY2UodGhpcy5wcm9wc0JlaW5nQ2hlY2tlZC5pbmRleE9mKGRhdGEubmFtZSksIDEpKTtcclxuICAgICAgICB0aGlzLnBlcmNlbnRhZ2VGYWlsZWQgPSAodG90YWxUZXN0c1J1biAtIHRoaXMucmVzdWx0cy5mYWlsZWRDb3VudCkgLyB0b3RhbFRlc3RzUnVuICogMTAwO1xyXG4gICAgfTtcclxuXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBGaW5kcyBkaXJ0eSBjb250ZW50IHByb3BlcnRpZXMsIGNoZWNrcyB0aGUgdHlwZSBhbmQgYnVpbGRzIGEgY29sbGVjdGlvbiBvZiBzaW1wbGUgbW9kZWxzIGZvciBwb3N0aW5nIHRvIHRoZSBwcmVmbGlnaHQgY2hlY2tkaXJ0eSBlbmRwb2ludFxyXG4gICAgICogQWxzbyBnZW5lcmF0ZXMgYW5kIHN0b3JlcyBhIGhhc2ggb2YgdGhlIHByb3BlcnR5IHZhbHVlIGZvciBjb21wYXJpc29uIG9uIHN1YnNlcXVlbnQgY2FsbHMsIHRvIHByZXZlbnQgcmUtZmV0Y2hpbmcgdW5jaGFuZ2VkIGRhdGFcclxuICAgICAqL1xyXG4gICAgY2hlY2tEaXJ0eSA9ICgpID0+IHtcclxuXHJcbiAgICAgICAgdGhpcy5kaXJ0eVByb3BzID0gW107XHJcbiAgICAgICAgdGhpcy5oYXNEaXJ0eSA9IGZhbHNlO1xyXG5cclxuICAgICAgICBmb3IgKGxldCBwcm9wIG9mIHRoaXMucHJvcGVydGllc1RvVHJhY2spIHtcclxuICAgICAgICAgICAgbGV0IGN1cnJlbnRWYWx1ZSA9IHRoaXMuZ2V0UHJvcGVydHkocHJvcC5hbGlhcykudmFsdWU7XHJcbiAgICAgICAgICAgIGN1cnJlbnRWYWx1ZSA9IHRoaXMuaXNKc29uUHJvcGVydHkocHJvcC5lZGl0b3IpID8gSlNPTi5zdHJpbmdpZnkoY3VycmVudFZhbHVlKSA6IGN1cnJlbnRWYWx1ZTtcclxuXHJcbiAgICAgICAgICAgIGNvbnN0IGhhc2ggPSB0aGlzLmdldEhhc2goY3VycmVudFZhbHVlKTtcclxuXHJcbiAgICAgICAgICAgIGlmICh0aGlzLmRpcnR5SGFzaGVzW3Byb3AubGFiZWxdICYmIHRoaXMuZGlydHlIYXNoZXNbcHJvcC5sYWJlbF0gIT09IGhhc2gpIHtcclxuXHJcbiAgICAgICAgICAgICAgICB0aGlzLmRpcnR5UHJvcHMucHVzaCh7XHJcbiAgICAgICAgICAgICAgICAgICAgbmFtZTogcHJvcC5sYWJlbCxcclxuICAgICAgICAgICAgICAgICAgICB2YWx1ZTogY3VycmVudFZhbHVlLFxyXG4gICAgICAgICAgICAgICAgICAgIGVkaXRvcjogcHJvcC5lZGl0b3JcclxuICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgIHRoaXMuZGlydHlIYXNoZXNbcHJvcC5sYWJlbF0gPSBoYXNoO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5oYXNEaXJ0eSA9IHRydWU7XHJcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoIXRoaXMuZGlydHlIYXNoZXNbcHJvcC5sYWJlbF0pIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuZGlydHlIYXNoZXNbcHJvcC5sYWJlbF0gPSBoYXNoO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBpZiBkaXJ0eSBwcm9wZXJ0aWVzIGV4aXN0LCBjcmVhdGUgYSBzaW1wbGUgbW9kZWwgZm9yIGVhY2ggYW5kIHNlbmQgdGhlIGxvdCBvZmYgZm9yIGNoZWNraW5nXHJcbiAgICAgICAgLy8gcmVzcG9uc2UgY29tZXMgdmlhIHRoZSBzaWduYWxyIGh1YiBzbyBpcyBub3QgaGFuZGxlZCBoZXJlXHJcbiAgICAgICAgaWYgKHRoaXMuaGFzRGlydHkpIHtcclxuICAgICAgICAgICAgdGhpcy4kdGltZW91dCgoKSA9PiB7XHJcblxyXG4gICAgICAgICAgICAgICAgdGhpcy5kaXJ0eVByb3BzLmZvckVhY2gocHJvcCA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgZXhpc3Rpbmcgb2YgdGhpcy5yZXN1bHRzLnByb3BlcnRpZXMuZmlsdGVyKHAgPT4gcC5uYW1lID09PSBwcm9wLm5hbWUpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChleGlzdGluZykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZXhpc3Rpbmcub3BlbiA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZXhpc3RpbmcuZmFpbGVkQ291bnQgPSAtMTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGdlbmVyYXRlIG5ldyBwbGFjZWhvbGRlciBmb3IgcGVuZGluZyByZXN1bHRzIC0gdGhpcyBpcyByZW1vdmVkIHdoZW4gdGhlIHJlc3BvbnNlIGlzIHJldHVybmVkXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnJlc3VsdHMucHJvcGVydGllcy5wdXNoKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYWJlbDogcHJvcC5uYW1lLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9wZW46IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZhaWxlZDogZmFsc2UsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmFpbGVkQ291bnQ6IC0xLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IGAke3Byb3AubmFtZX1fdGVtcGBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnByb3BzQmVpbmdDaGVja2VkLnB1c2gocHJvcC5uYW1lKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgIHRoaXMucHJvcHNCZWluZ0NoZWNrZWRTdHIgPSB0aGlzLmpvaW5MaXN0KHRoaXMucHJvcHNCZWluZ0NoZWNrZWQpO1xyXG5cclxuICAgICAgICAgICAgICAgIGNvbnN0IHBheWxvYWQgPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcHJvcGVydGllczogdGhpcy5kaXJ0eVByb3BzLFxyXG4gICAgICAgICAgICAgICAgICAgIG5vZGVJZDogdGhpcy5lZGl0b3JTdGF0ZS5jdXJyZW50LmlkXHJcbiAgICAgICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgICAgIHRoaXMuc2V0QmFkZ2VDb3VudCh0cnVlKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuZG9uZSA9IGZhbHNlO1xyXG5cclxuICAgICAgICAgICAgICAgIHRoaXMucHJlZmxpZ2h0U2VydmljZS5jaGVja0RpcnR5KHBheWxvYWQpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogSW5pdGlhdGVzIHRoZSBzaWduYWxyIGh1YiBmb3IgcmV0dXJuaW5nIHRlc3QgcmVzdWx0c1xyXG4gICAgICovXHJcbiAgICBpbml0U2lnbmFsUiA9ICgpID0+IHtcclxuXHJcbiAgICAgICAgdGhpcy5wcmVmbGlnaHRIdWIuaW5pdEh1YihodWIgPT4ge1xyXG5cclxuICAgICAgICAgICAgaHViLm9uKCdwcmVmbGlnaHRUZXN0JyxcclxuICAgICAgICAgICAgICAgIGUgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucmViaW5kUmVzdWx0KGUpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0QmFkZ2VDb3VudCgpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICBodWIub24oJ3ByZWZsaWdodENvbXBsZXRlJyxcclxuICAgICAgICAgICAgICAgICgpID0+IHRoaXMub25Db21wbGV0ZSgpXHJcbiAgICAgICAgICAgICk7XHJcblxyXG4gICAgICAgICAgICBodWIuc3RhcnQoZSA9PiB7XHJcbiAgICAgICAgICAgICAgICAvKipcclxuICAgICAgICAgICAgICAgICAqIENoZWNrIGFsbCBwcm9wZXJ0aWVzIHdoZW4gdGhlIGNvbnRyb2xsZXIgbG9hZHMuIFdvbid0IHJlLXJ1biB3aGVuIGNoYW5naW5nIGJldHdlZW4gYXBwc1xyXG4gICAgICAgICAgICAgICAgICogYnV0IG5lZWRzIHRvIGhhcHBlbiBhZnRlciB0aGUgaHViIGxvYWRzXHJcbiAgICAgICAgICAgICAgICAgKi9cclxuICAgICAgICAgICAgICAgIHRoaXMuJHRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0QmFkZ2VDb3VudCh0cnVlKTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmNoZWNrRGlydHkoKTsgLy8gYnVpbGRzIGluaXRpYWwgaGFzaCBhcnJheSwgYnV0IHdvbid0IHJ1biBhbnl0aGluZ1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucHJlZmxpZ2h0U2VydmljZS5jaGVjayh0aGlzLmVkaXRvclN0YXRlLmN1cnJlbnQuaWQpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgICRvbkluaXQoKSB7XHJcbiAgICAgICAgY29uc3QgYWN0aXZlVmFyaWFudCA9IHRoaXMuZWRpdG9yU3RhdGUuY3VycmVudC52YXJpYW50cy5maW5kKHggPT4geC5hY3RpdmUpO1xyXG4gICAgICAgIGlmIChhY3RpdmVWYXJpYW50KSB7XHJcbiAgICAgICAgICAgIGFjdGl2ZVZhcmlhbnQudGFicy5mb3JFYWNoKHggPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5wcm9wZXJ0aWVzVG9UcmFjayA9IHRoaXMucHJvcGVydGllc1RvVHJhY2suY29uY2F0KHgucHJvcGVydGllcy5tYXAoeCA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMudmFsaWRQcm9wVHlwZXMuaW5jbHVkZXMoeC5lZGl0b3IpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlZGl0b3I6IHguZWRpdG9yLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYWxpYXM6IHguYWxpYXMsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYWJlbDogeC5sYWJlbFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pKS5maWx0ZXIoeCA9PiB4KTtcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAvLyBhcnJheSB3aWxsIGhhdmUgbGVuZ3RoLCBhcyBhcHAgaXMgb25seSBzZW50IG9uIHR5cGVzIHdpdGggdGVzdGFibGUgcHJvcGVydGllc1xyXG4gICAgICAgICAgICBpZiAodGhpcy5wcm9wZXJ0aWVzVG9UcmFjay5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuaW5pdFNpZ25hbFIoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG4iLCLvu79leHBvcnQgY2xhc3MgU2V0dGluZ3NDb250cm9sbGVyIHtcclxuXHJcbiAgICBzdGF0aWMgY29udHJvbGxlck5hbWUgPSAncHJlZmxpZ2h0LnNldHRpbmdzLmNvbnRyb2xsZXInO1xyXG5cclxuICAgICRzY29wZTtcclxuICAgIG5vdGlmaWNhdGlvbnNTZXJ2aWNlO1xyXG4gICAgcHJlZmxpZ2h0U2VydmljZTtcclxuXHJcbiAgICBjb25zdHJ1Y3Rvcigkc2NvcGUsIG5vdGlmaWNhdGlvbnNTZXJ2aWNlLCBwcmVmbGlnaHRTZXJ2aWNlKSB7XHJcbiAgICAgICAgdGhpcy4kc2NvcGUgPSAkc2NvcGU7XHJcbiAgICAgICAgdGhpcy5ub3RpZmljYXRpb25zU2VydmljZSA9IG5vdGlmaWNhdGlvbnNTZXJ2aWNlO1xyXG4gICAgICAgIHRoaXMucHJlZmxpZ2h0U2VydmljZSA9IHByZWZsaWdodFNlcnZpY2U7XHJcbiAgICB9XHJcblxyXG4gICAgd2F0Y2hUZXN0YWJsZVByb3BlcnRpZXMgPSAoKSA9PiB7XHJcbiAgICAgICAgbGV0IHByb3BlcnRpZXNUb01vZGlmeSA9IHRoaXMuc2V0dGluZ3MuZmlsdGVyKHggPT4geC5hbGlhcy5pbmRleE9mKCdQcm9wZXJ0aWVzVG9UZXN0JykgIT09IC0xICYmIHguYWxpYXMgIT09ICdwcm9wZXJ0aWVzVG9UZXN0Jyk7XHJcbiAgICAgICAgdGhpcy4kc2NvcGUuJHdhdGNoKCgpID0+IHRoaXMuc2V0dGluZ3MuZmluZCh4ID0+IHguYWxpYXMgPT09ICdwcm9wZXJ0aWVzVG9UZXN0JykudmFsdWUsIG5ld1ZhbCA9PiB7XHJcbiAgICAgICAgICAgIGlmIChuZXdWYWwpIHtcclxuICAgICAgICAgICAgICAgIGZvciAobGV0IHByb3Agb2YgcHJvcGVydGllc1RvTW9kaWZ5KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gdXNlIHRoZSBwcm9wIGFsaWFzIHRvIGZpbmQgdGhlIGNoZWNrYm94IHNldFxyXG4gICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGNoZWNrYm94IG9mIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoYHVtYi1jaGVja2JveFtuYW1lKj1cIiR7cHJvcC5hbGlhc31cIl1gKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjaGVja2JveC5xdWVyeVNlbGVjdG9yKCcudW1iLWZvcm0tY2hlY2snKS5jbGFzc0xpc3RbbmV3VmFsLmluZGV4T2YoY2hlY2tib3guZ2V0QXR0cmlidXRlKCd2YWx1ZScpKSA9PT0gLTEgPyAnYWRkJyA6ICdyZW1vdmUnXSgncGYtZGlzYWJsZWQnKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9LCB0cnVlKTtcclxuICAgIH07XHJcblxyXG4gICAgJG9uSW5pdCgpIHtcclxuICAgICAgICB0aGlzLnByZWZsaWdodFNlcnZpY2UuZ2V0U2V0dGluZ3MoKVxyXG4gICAgICAgICAgICAudGhlbihyZXNwID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2V0dGluZ3MgPSByZXNwLmRhdGEuc2V0dGluZ3M7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnRhYnMgPSByZXNwLmRhdGEudGFicztcclxuXHJcbiAgICAgICAgICAgICAgICB0aGlzLnNldHRpbmdzLmZvckVhY2godiA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHYudmlldy5pbmRleE9mKCdzbGlkZXInKSAhPT0gLTEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdi5jb25maWcgPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBoYW5kbGU6ICdyb3VuZCcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbml0VmFsMTogdi5hbGlhcyA9PT0gJ2xvbmdXb3JkU3lsbGFibGVzJyA/IDUgOiA2NSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1heFZhbDogdi5hbGlhcyA9PT0gJ2xvbmdXb3JkU3lsbGFibGVzJyA/IDEwIDogMTAwLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWluVmFsOiAwLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb3JpZW50YXRpb246ICdob3Jpem9udGFsJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0ZXA6IDEsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b29sdGlwOiAnYWx3YXlzJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvb2x0aXBQb3NpdGlvbjogJ2JvdHRvbScsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmICh2LnZpZXcuaW5kZXhPZignbXVsdGlwbGV0ZXh0Ym94JykgIT09IC0xKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICB2LnZhbHVlID0gdi52YWx1ZS5zcGxpdCgnLCcpLm1hcCh2YWwgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHsgdmFsdWU6IHZhbCB9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KS5zb3J0KChhLCBiKSA9PiBhIDwgYik7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICB2LmNvbmZpZyA9IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1pbjogMCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1heDogMFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgdi52YWxpZGF0aW9uID0ge307XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmICh2LnZpZXcuaW5kZXhPZignY2hlY2tib3hsaXN0JykgIT09IC0xKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICB2LnZhbHVlID0gdi52YWx1ZS5zcGxpdCgnLCcpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgdi5jb25maWcgPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpdGVtczogdi5wcmV2YWx1ZXNcclxuICAgICAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICB0aGlzLndhdGNoVGVzdGFibGVQcm9wZXJ0aWVzKCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogXHJcbiAgICAgKi9cclxuICAgIHNhdmVTZXR0aW5ncyA9ICgpID0+IHtcclxuXHJcbiAgICAgICAgY29uc3QgbWluID0gcGFyc2VJbnQodGhpcy5zZXR0aW5ncy5maWx0ZXIoeCA9PiB4LmFsaWFzID09PSAncmVhZGFiaWxpdHlUYXJnZXRNaW5pbXVtJylbMF0udmFsdWUpO1xyXG4gICAgICAgIGNvbnN0IG1heCA9IHBhcnNlSW50KHRoaXMuc2V0dGluZ3MuZmlsdGVyKHggPT4geC5hbGlhcyA9PT0gJ3JlYWRhYmlsaXR5VGFyZ2V0TWF4aW11bScpWzBdLnZhbHVlKTtcclxuXHJcbiAgICAgICAgaWYgKG1pbiA8IG1heCkge1xyXG5cclxuICAgICAgICAgICAgaWYgKG1pbiArIDEwID4gbWF4KSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm5vdGlmaWNhdGlvbnNTZXJ2aWNlLndhcm5pbmcoJ1dBUk5JTkcnLCAnUmVhZGFiaWxpdHkgcmFuZ2UgaXMgbmFycm93Jyk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8vIG5lZWQgdG8gdHJhbnNmb3JtIG11bHRpdGV4dGJveCB2YWx1ZXMgd2l0aG91dCBkaWdlc3RcclxuICAgICAgICAgICAgLy8gc28gbXVzdCBiZSBhIG5ldyBvYmplY3QsIG5vdCBhIHJlZmVyZW5jZVxyXG4gICAgICAgICAgICBjb25zdCBzZXR0aW5nc1RvU2F2ZSA9IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkodGhpcy5zZXR0aW5ncykpO1xyXG5cclxuICAgICAgICAgICAgc2V0dGluZ3NUb1NhdmUuZm9yRWFjaCh2ID0+IHtcclxuICAgICAgICAgICAgICAgIGlmICh2LnZpZXcuaW5kZXhPZignbXVsdGlwbGV0ZXh0Ym94JykgIT09IC0xKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdi52YWx1ZSA9IHYudmFsdWUubWFwKG8gPT4gby52YWx1ZSkuam9pbignLCcpO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmICh2LnZpZXcuaW5kZXhPZignY2hlY2tib3hsaXN0JykgIT09IC0xKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdi52YWx1ZSA9IHYudmFsdWUuam9pbignLCcpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMucHJlZmxpZ2h0U2VydmljZS5zYXZlU2V0dGluZ3Moc2V0dGluZ3NUb1NhdmUsIHRoaXMudGFicylcclxuICAgICAgICAgICAgICAgIC50aGVuKHJlc3AgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHJlc3AuZGF0YVxyXG4gICAgICAgICAgICAgICAgICAgICAgICA/IHRoaXMubm90aWZpY2F0aW9uc1NlcnZpY2Uuc3VjY2VzcygnU1VDQ0VTUycsICdTZXR0aW5ncyB1cGRhdGVkJylcclxuICAgICAgICAgICAgICAgICAgICAgICAgOiB0aGlzLm5vdGlmaWNhdGlvbnNTZXJ2aWNlLmVycm9yKCdFUlJPUicsICdVbmFibGUgdG8gc2F2ZSBzZXR0aW5ncycpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAvLyByZXNldCBkYXNoYm9hcmQgZm9ybSBzdGF0ZVxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuJHNjb3BlLnByZWZsaWdodFNldHRpbmdzRm9ybS4kc2V0UHJpc3RpbmUoKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5ub3RpZmljYXRpb25zU2VydmljZS5lcnJvcignRVJST1InLFxyXG4gICAgICAgICAgICAgICAgJ1VuYWJsZSB0byBzYXZlIHNldHRpbmdzIC0gcmVhZGFiaWxpdHkgbWluaW11bSBjYW5ub3QgYmUgZ3JlYXRlciB0aGFuIHJlYWRhYmlsaXR5IG1heGltdW0nKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn0iLCLvu78oKCkgPT4ge1xyXG5cclxuICAgIGNvbnN0IHBvc3RTYXZlVXJsID0gJy91bWJyYWNvYXBpL2NvbnRlbnQvcG9zdHNhdmUnO1xyXG5cclxuICAgIGZ1bmN0aW9uIGludGVyY2VwdG9yKG5vdGlmaWNhdGlvbnNTZXJ2aWNlLCAkcSwgJGluamVjdG9yKSB7XHJcblxyXG4gICAgICAgIGNvbnN0IGNoZWNrR3JvdXAgPSB1c2VyR3JvdXBPcHRJbk91dCA9PiB7XHJcbiAgICAgICAgICAgIC8vIHVzZSB0aGUgc3RvcmVkIHZhbHVlIHRvIGdldCB0aGUgY29ycmVzcG9uZGluZyBrZXkgZnJvbSB0aGUgc2V0dGluZydzIHByZXZhbHVlcyAod2hpY2ggaXMgdmFsdWUsa2V5IHBhcmluZyBvZiBhbGwgZ3JvdXBzKVxyXG4gICAgICAgICAgICB2YXIgZW5hYmxlZEdyb3VwcyA9IHVzZXJHcm91cE9wdEluT3V0LnByZXZhbHVlcy5maWx0ZXIoeCA9PiB1c2VyR3JvdXBPcHRJbk91dC52YWx1ZS5pbmNsdWRlcyh4LnZhbHVlKSkubWFwKHggPT4geC5rZXkpO1xyXG5cclxuICAgICAgICAgICAgJGluamVjdG9yLmludm9rZShbJ2F1dGhSZXNvdXJjZScsIGF1dGhSZXNvdXJjZSA9PiB7XHJcbiAgICAgICAgICAgICAgICBhdXRoUmVzb3VyY2UuZ2V0Q3VycmVudFVzZXIoKVxyXG4gICAgICAgICAgICAgICAgICAgIC50aGVuKGN1cnJlbnRVc2VyID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVuYWJsZWRHcm91cHMuc29tZSh4ID0+IGN1cnJlbnRVc2VyLnVzZXJHcm91cHMuaW5jbHVkZXMoeCkpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBub3RpZmljYXRpb25zU2VydmljZS5hZGQoe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleTogJ3ByZWZsaWdodF9ub3RpY2UnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZpZXc6IGAke1VtYnJhY28uU3lzLlNlcnZlclZhcmlhYmxlcy5QcmVmbGlnaHQuUGx1Z2luUGF0aH0vdmlld3Mvd2FybmluZy5ub3RpZmljYXRpb24uaHRtbGBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1dKTtcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICByZXF1ZXN0OiByZXF1ZXN0ID0+IHtcclxuICAgICAgICAgICAgICAgIGlmIChyZXF1ZXN0LnVybC50b0xvd2VyQ2FzZSgpLmluZGV4T2YocG9zdFNhdmVVcmwpICE9PSAtMSkge1xyXG4gICAgICAgICAgICAgICAgICAgICRpbmplY3Rvci5pbnZva2UoWydwcmVmbGlnaHRTZXJ2aWNlJywgcyA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHMuZ2V0U2V0dGluZ3MoKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLnRoZW4ocmVzcCA9PiB7ICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHNldHRpbmdzID0gcmVzcC5kYXRhLnNldHRpbmdzO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHJ1bk9uU2F2ZSA9IHNldHRpbmdzLmZpbmQoeCA9PiB4LmFsaWFzID09PSAncnVuUHJlZmxpZ2h0T25TYXZlJyk7IFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChydW5PblNhdmUgJiYgcnVuT25TYXZlLnZhbHVlID09PSAnMScpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdXNlckdyb3VwT3B0SW5PdXQgPSBzZXR0aW5ncy5maW5kKHggPT4geC5hbGlhcyA9PT0gJ3VzZXJHcm91cE9wdEluT3V0Jyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoZWNrR3JvdXAodXNlckdyb3VwT3B0SW5PdXQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH1dKTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVxdWVzdCB8fCAkcS53aGVuKHJlcXVlc3QpO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICByZXNwb25zZTogcmVzcG9uc2UgPT4ge1xyXG4gICAgICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2UuY29uZmlnLnVybC50b0xvd2VyQ2FzZSgpLmluZGV4T2YocG9zdFNhdmVVcmwpICE9PSAtMSkge1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaW5kZXggPSBub3RpZmljYXRpb25zU2VydmljZS5jdXJyZW50Lm1hcChjID0+IGMua2V5ID09PSAncHJlZmxpZ2h0X25vdGljZScpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuaW5kZXhPZih0cnVlKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpbmRleCAhPT0gLTEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5vdGlmaWNhdGlvbnNTZXJ2aWNlLnJlbW92ZShpbmRleCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5kYXRhLm5vdGlmaWNhdGlvbnMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgbm90aWZpY2F0aW9uID0gcmVzcG9uc2UuZGF0YS5ub3RpZmljYXRpb25zLmZpbHRlcihmID0+IGYuaGVhZGVyID09PSBVbWJyYWNvLlN5cy5TZXJ2ZXJWYXJpYWJsZXMuUHJlZmxpZ2h0LkNvbnRlbnRGYWlsZWRDaGVja3MpWzBdO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChub3RpZmljYXRpb24pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNwb25zZS5kYXRhLm5vdGlmaWNhdGlvbnMgPSBbXTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbm90aWZpY2F0aW9uc1NlcnZpY2UuYWRkKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmlldzogYCR7VW1icmFjby5TeXMuU2VydmVyVmFyaWFibGVzLlByZWZsaWdodC5QbHVnaW5QYXRofS92aWV3cy9mYWlsZWQubm90aWZpY2F0aW9uLmh0bWxgLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcmdzOiB7IHNhdmVDYW5jZWxsZWQ6IG5vdGlmaWNhdGlvbi5tZXNzYWdlLmluZGV4T2YoJ190cnVlJykgIT09IC0xIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGNhdGNoIChlcnIpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlcnIubWVzc2FnZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlIHx8ICRxLndoZW4ocmVzcG9uc2UpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgIH1cclxuXHJcbiAgICBhbmd1bGFyLm1vZHVsZSgncHJlZmxpZ2h0JylcclxuICAgICAgICAuZmFjdG9yeSgncHJlZmxpZ2h0LnNhdmUuaW50ZXJjZXB0b3InLCBbJ25vdGlmaWNhdGlvbnNTZXJ2aWNlJywgJyRxJywgJyRpbmplY3RvcicsIGludGVyY2VwdG9yXSlcclxuICAgICAgICAuY29uZmlnKCRodHRwUHJvdmlkZXIgPT4gJGh0dHBQcm92aWRlci5pbnRlcmNlcHRvcnMucHVzaCgncHJlZmxpZ2h0LnNhdmUuaW50ZXJjZXB0b3InKSk7XHJcblxyXG59KSgpOyIsIu+7v2ltcG9ydCB7IExpbmtIZWFsdGhSZXN1bHRDb21wb25lbnQgfSBmcm9tICcuL2xpbmtoZWFsdGgucmVzdWx0LmNvbXBvbmVudCc7XHJcbmltcG9ydCB7IFJlYWRhYmlsaXR5UGx1Z2luQ29udHJvbGxlciB9IGZyb20gJy4vcmVhZGFiaWxpdHkucGx1Z2luLmNvbnRyb2xsZXInO1xyXG5cclxuZXhwb3J0IGNvbnN0IFBsdWdpbnNNb2R1bGUgPSBhbmd1bGFyXHJcbiAgICAubW9kdWxlKCdwcmVmbGlnaHQucGx1Z2lucycsIFtdKVxyXG4gICAgLmNvbXBvbmVudChMaW5rSGVhbHRoUmVzdWx0Q29tcG9uZW50Lm5hbWUsIExpbmtIZWFsdGhSZXN1bHRDb21wb25lbnQpXHJcbiAgICAuY29udHJvbGxlcihSZWFkYWJpbGl0eVBsdWdpbkNvbnRyb2xsZXIuY29udHJvbGxlck5hbWUsIFJlYWRhYmlsaXR5UGx1Z2luQ29udHJvbGxlcilcclxuICAgIC5uYW1lOyIsIu+7v2V4cG9ydCBjb25zdCBMaW5rSGVhbHRoUmVzdWx0Q29tcG9uZW50ID0ge1xyXG4gICAgbmFtZTogJ2xpbmtIZWFsdGhSZXN1bHQnLFxyXG4gICAgdHJhbnNjbHVkZTogdHJ1ZSxcclxuICAgIGJpbmRpbmdzOiB7XHJcbiAgICAgICAgcmVzdWx0czogJzwnXHJcbiAgICB9LFxyXG4gICAgdGVtcGxhdGU6IGBcclxuICAgICAgICA8dGFibGUgY2xhc3M9XCJsaW5raGVhbHRoLXJlc3VsdC10YWJsZVwiPlxyXG4gICAgICAgICAgICA8dGhlYWQ+XHJcbiAgICAgICAgICAgICAgICA8dHI+PHRoPkxpbmsgdGV4dDwvdGg+IDx0aD5MaW5rIHRhcmdldDwvdGg+IDx0aD5MaW5rIHN0YXR1czwvdGg+PC90cj5cclxuICAgICAgICAgICAgPC90aGVhZD5cclxuICAgICAgICAgICAgPHRyIG5nLXJlcGVhdD1cImxpbmsgaW4gJGN0cmwucmVzdWx0c1wiPjx0ZCBuZy1iaW5kPVwibGluay50ZXh0XCI+PC90ZD48dGQgbmctYmluZD1cImxpbmsuaHJlZlwiPjwvdGQ+PHRkIG5nLWJpbmQ9XCJsaW5rLnN0YXR1c1wiPjwvdGQ+PC90cj5cclxuICAgICAgICA8L3RhYmxlPmBcclxufSIsIu+7v2V4cG9ydCBjbGFzcyBSZWFkYWJpbGl0eVBsdWdpbkNvbnRyb2xsZXIge1xyXG5cclxuICAgIHN0YXRpYyBjb250cm9sbGVyTmFtZSA9ICdyZWFkYWJpbGl0eVBsdWdpbkNvbnRyb2xsZXInO1xyXG5cclxuICAgICRzY29wZTtcclxuICAgIGVkaXRvclNlcnZpY2U7XHJcblxyXG4gICAgY29uc3RydWN0b3IoJHNjb3BlLCBlZGl0b3JTZXJ2aWNlKSB7XHJcbiAgICAgICAgdGhpcy4kc2NvcGUgPSAkc2NvcGU7XHJcbiAgICAgICAgdGhpcy5lZGl0b3JTZXJ2aWNlID0gZWRpdG9yU2VydmljZTtcclxuICAgIH1cclxuXHJcbiAgICBoZWxwID0gZSA9PiB7XHJcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgIGNvbnN0IGhlbHBPdmVybGF5ID0ge1xyXG4gICAgICAgICAgICB2aWV3OiBgJHtVbWJyYWNvLlN5cy5TZXJ2ZXJWYXJpYWJsZXMuUHJlZmxpZ2h0LlBsdWdpblBhdGh9L3BsdWdpbnMvcmVhZGFiaWxpdHkub3ZlcmxheS5odG1sYCxcclxuICAgICAgICAgICAgdGl0bGU6ICdSZWFkYWJpbGl0eScsXHJcbiAgICAgICAgICAgIGRlc2NyaXB0aW9uOiAnV2h5IHNob3VsZCBJIGNhcmU/JyxcclxuICAgICAgICAgICAgc2l6ZTogJ3NtYWxsJyxcclxuICAgICAgICAgICAgdGV4dDogdGhpcy4kc2NvcGUubW9kZWwuZGVzY3JpcHRpb24sXHJcbiAgICAgICAgICAgIGNsb3NlOiAoKSA9PiB0aGlzLmVkaXRvclNlcnZpY2UuY2xvc2UoKSAgICAgICAgICAgICAgICBcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICB0aGlzLmVkaXRvclNlcnZpY2Uub3BlbihoZWxwT3ZlcmxheSk7XHJcbiAgICB9O1xyXG59XHJcbiIsIu+7v2ltcG9ydCB7IFByZWZsaWdodFNlcnZpY2UgfSBmcm9tICcuL3ByZWZsaWdodC5zZXJ2aWNlJztcclxuaW1wb3J0IHsgUHJlZmxpZ2h0SHViIH0gZnJvbSAnLi9wcmVmbGlnaHQuaHViJztcclxuXHJcbmV4cG9ydCBjb25zdCBTZXJ2aWNlc01vZHVsZSA9IGFuZ3VsYXJcclxuICAgIC5tb2R1bGUoJ3ByZWZsaWdodC5zZXJ2aWNlcycsIFtdKVxyXG4gICAgLnNlcnZpY2UoUHJlZmxpZ2h0U2VydmljZS5zZXJ2aWNlTmFtZSwgUHJlZmxpZ2h0U2VydmljZSlcclxuICAgIC5zZXJ2aWNlKFByZWZsaWdodEh1Yi5zZXJ2aWNlTmFtZSwgUHJlZmxpZ2h0SHViKVxyXG4gICAgLm5hbWU7Iiwi77u/ZXhwb3J0IGNsYXNzIFByZWZsaWdodEh1YiB7XHJcblxyXG4gICAgc3RhdGljIHNlcnZpY2VOYW1lID0gJ3ByZWZsaWdodEh1Yic7XHJcblxyXG4gICAgJHJvb3RTY29wZTtcclxuICAgICRxO1xyXG4gICAgYXNzZXRzU2VydmljZTtcclxuXHJcbiAgICBzY3JpcHRzID0gW107XHJcbiAgICBjYWxsYmFja3MgPSBbXTtcclxuXHJcbiAgICBzdGFydGluZyA9IGZhbHNlXHJcbiAgICBwbGF0Zm9ybSA9IFVtYnJhY28uU3lzLlNlcnZlclZhcmlhYmxlcy5QbHVtYmVyLnBsYXRmb3JtO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKCRyb290U2NvcGUsICRxLCBhc3NldHNTZXJ2aWNlKSB7XHJcbiAgICAgICAgdGhpcy4kcm9vdFNjb3BlID0gJHJvb3RTY29wZTtcclxuICAgICAgICB0aGlzLiRxID0gJHE7XHJcbiAgICAgICAgdGhpcy5hc3NldHNTZXJ2aWNlID0gYXNzZXRzU2VydmljZTtcclxuXHJcbiAgICAgICAgY29uc3QgdW1icmFjb1BhdGggPSBVbWJyYWNvLlN5cy5TZXJ2ZXJWYXJpYWJsZXMudW1icmFjb1NldHRpbmdzLnVtYnJhY29QYXRoO1xyXG4gICAgICAgIGlmICh0aGlzLnBsYXRmb3JtID09PSAnQ09SRScpIHtcclxuICAgICAgICAgICAgdGhpcy5zY3JpcHRzID0gW3VtYnJhY29QYXRoICsgJy9saWIvc2lnbmFsci9zaWduYWxyLm1pbi5qcyddO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMuc2NyaXB0cyA9IFtcclxuICAgICAgICAgICAgICAgIHVtYnJhY29QYXRoICsgJy9saWIvc2lnbmFsci9qcXVlcnkuc2lnbmFsci5qcycsXHJcbiAgICAgICAgICAgICAgICB1bWJyYWNvUGF0aCArICcvYmFja29mZmljZS9zaWduYWxyL2h1YnMnXHJcbiAgICAgICAgICAgIF07XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHNldHVwSHViID0gY2FsbGJhY2sgPT4ge1xyXG4gICAgICAgIGxldCBwcm94eTtcclxuICAgICAgICBsZXQgaHViID0ge307XHJcblxyXG4gICAgICAgIGlmICh0aGlzLnBsYXRmb3JtID09PSAnQ09SRScpIHtcclxuICAgICAgICAgICAgJC5jb25uZWN0aW9uID0gbmV3IHNpZ25hbFIuSHViQ29ubmVjdGlvbkJ1aWxkZXIoKVxyXG4gICAgICAgICAgICAgICAgLndpdGhVcmwoVW1icmFjby5TeXMuU2VydmVyVmFyaWFibGVzLlBsdW1iZXIuc2lnbmFsUkh1YilcclxuICAgICAgICAgICAgICAgIC53aXRoQXV0b21hdGljUmVjb25uZWN0KClcclxuICAgICAgICAgICAgICAgIC5jb25maWd1cmVMb2dnaW5nKHNpZ25hbFIuTG9nTGV2ZWwuV2FybmluZylcclxuICAgICAgICAgICAgICAgIC5idWlsZCgpO1xyXG5cclxuICAgICAgICAgICAgcHJveHkgPSAkLmNvbm5lY3Rpb247XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBwcm94eSA9ICQuY29ubmVjdGlvbi5wbHVtYmVySHViO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKHByb3h5ICE9PSB1bmRlZmluZWQpIHtcclxuXHJcbiAgICAgICAgICAgIGh1YiA9IHtcclxuICAgICAgICAgICAgICAgIGFjdGl2ZTogdHJ1ZSxcclxuICAgICAgICAgICAgICAgIHN0YXJ0OiAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMucGxhdGZvcm0gPT09ICdDT1JFJykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJveHkuc3RhcnQoKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC50aGVuKCgpID0+IHsgfSAvKmNvbnNvbGUuaW5mbygnSHViIHN0YXJ0ZWQgPT4nLCAkLmNvbm5lY3Rpb24uY29ubmVjdGlvbklkKSovKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5jYXRjaCgoKSA9PiBjb25zb2xlLndhcm4oJ0ZhaWxlZCB0byBzdGFydCBodWInKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybignQ291bGQgbm90IHNldHVwIHNpZ25hbFIgY29ubmVjdGlvbicsIGUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoJC5jb25uZWN0aW9uLmh1Yi5zdGF0ZSAhPT0gJC5jb25uZWN0aW9uLmNvbm5lY3Rpb25TdGF0ZS5kaXNjb25uZWN0ZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICQuY29ubmVjdGlvbi5odWIuc3RvcCh0cnVlLCB0cnVlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAkLmNvbm5lY3Rpb24uaHViLnN0YXJ0KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIG9uOiAoZXZlbnROYW1lLCBjYWxsYmFjaykgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHByb3h5Lm9uKGV2ZW50TmFtZSwgcmVzdWx0ID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy4kcm9vdFNjb3BlLiRhcHBseSgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoY2FsbGJhY2spIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYWxsYmFjayhyZXN1bHQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAvKipcclxuICAgICAgICAgICAgICAgICAqIEZ1bmN0aW9uIGlzIGNvbW1vbiBhY3Jvc3MgNDcyIGFuZCA1LjBcclxuICAgICAgICAgICAgICAgICAqIEBwYXJhbSBtZXRob2ROYW1lXHJcbiAgICAgICAgICAgICAgICAgKiBAcGFyYW0gY2FsbGJhY2tcclxuICAgICAgICAgICAgICAgICAqL1xyXG4gICAgICAgICAgICAgICAgaW52b2tlOiAobWV0aG9kTmFtZSwgY2FsbGJhY2spID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBwcm94eS5pbnZva2UobWV0aG9kTmFtZSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgLmRvbmUocmVzdWx0ID0+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLiRyb290U2NvcGUuJGFwcGx5KCgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoY2FsbGJhY2spIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2socmVzdWx0KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgaHViID0ge1xyXG4gICAgICAgICAgICAgICAgb246ICgpID0+IHsgfSxcclxuICAgICAgICAgICAgICAgIGludm9rZTogKCkgPT4geyB9LFxyXG4gICAgICAgICAgICAgICAgc3RhcnQ6ICgpID0+IGNvbnNvbGUud2FybignTm8gaHViIHRvIHN0YXJ0JyksXHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gY2FsbGJhY2soaHViKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIEZ1bmN0aW9uIGlzIGNvbW1vbiBhY3Jvc3MgNDcyIGFuZCA1LjBcclxuICAgICAqICovXHJcbiAgICBwcm9jZXNzQ2FsbGJhY2tzKCkge1xyXG4gICAgICAgIHdoaWxlICh0aGlzLmNhbGxiYWNrcy5sZW5ndGgpIHtcclxuICAgICAgICAgICAgY29uc3QgY2IgPSB0aGlzLmNhbGxiYWNrcy5wb3AoKTtcclxuICAgICAgICAgICAgdGhpcy5zZXR1cEh1YihjYik7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLnN0YXJ0aW5nID0gZmFsc2U7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBGdW5jdGlvbiBpcyBjb21tb24gYWNyb3NzIDQ3MiBhbmQgNS4wIFxyXG4gICAgICogQHBhcmFtIGNhbGxiYWNrXHJcbiAgICAgKi9cclxuICAgIGluaXRIdWIoY2FsbGJhY2spIHtcclxuICAgICAgICB0aGlzLmNhbGxiYWNrcy5wdXNoKGNhbGxiYWNrKTtcclxuXHJcbiAgICAgICAgaWYgKCF0aGlzLnN0YXJ0aW5nKSB7XHJcbiAgICAgICAgICAgIGlmICgkLmNvbm5lY3Rpb24gPT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zdGFydGluZyA9IHRydWU7XHJcblxyXG4gICAgICAgICAgICAgICAgY29uc3QgcHJvbWlzZXMgPSBbXTtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2NyaXB0cy5mb3JFYWNoKHNjcmlwdCA9PiBwcm9taXNlcy5wdXNoKHRoaXMuYXNzZXRzU2VydmljZS5sb2FkSnMoc2NyaXB0KSkpO1xyXG5cclxuICAgICAgICAgICAgICAgIHRoaXMuJHEuYWxsKHByb21pc2VzKS50aGVuKCgpID0+IHRoaXMucHJvY2Vzc0NhbGxiYWNrcygpKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHRoaXMucHJvY2Vzc0NhbGxiYWNrcygpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59Iiwi77u/ZXhwb3J0IGNsYXNzIFByZWZsaWdodFNlcnZpY2Uge1xyXG5cclxuICAgIHN0YXRpYyBzZXJ2aWNlTmFtZSA9ICdwcmVmbGlnaHRTZXJ2aWNlJztcclxuXHJcbiAgICAkaHR0cDtcclxuICAgIHVtYlJlcXVlc3RIZWxwZXI7XHJcblxyXG4gICAgdXJsQmFzZSA9IFVtYnJhY28uU3lzLlNlcnZlclZhcmlhYmxlcy5QcmVmbGlnaHQuQXBpUGF0aDtcclxuXHJcbiAgICBzdGF0aWMgaGVscFRleHQgPSBgXHJcbiAgICAgICAgPHA+SWYgeW91ciBjb250ZW50IGlzIHRvbyBkaWZmaWN1bHQgZm9yIHlvdXIgdmlzaXRvcnMgdG8gcmVhZCwgeW91J3JlIGFsbCBnb2luZyB0byBoYXZlIGEgYmFkIHRpbWUuPC9wPlxyXG4gICAgICAgIDxwPlRoZSByZWFkYWJpbGl0eSB0ZXN0IHJ1bnMgeW91ciBjb250ZW50IHRocm91Z2ggdGhlIEZsZXNjaCByZWFkaW5nIGVhc2UgYWxnb3JpdGhtIHRvIGRldGVybWluZSB0ZXh0IGNvbXBsZXhpdHkuPC9wPlxyXG4gICAgICAgIDxoNT5UaGUgYWxnb3JpdGhtPC9oNT5cclxuICAgICAgICA8cD48Y29kZT5SRSA9IDIwNi44MzUgLSAoMS4wMTUgeCBBU0wpIC0gKDg0LjYgeCBBU1cpPC9jb2RlPjwvcD5cclxuICAgICAgICA8cD5XaGVyZSA8Y29kZT5SRTwvY29kZT4gaXMgUmVhZGFiaWxpdHkgRWFzZSwgPGNvZGU+QVNMPC9jb2RlPiBpcyBBdmVyYWdlIFNlbnRlbmNlIExlbmd0aCwgYW5kIDxjb2RlPkFTVzwvY29kZT4gaXMgQXZlcmFnZSBTeWxsYWJsZXMgcGVyIFdvcmQ8L3A+XHJcbiAgICAgICAgPHA+VGhlIHJlc3VsdCBpcyBhIG51bWJlciBiZXR3ZWVuIDAgYW5kIDEwMCwgd2hlcmUgYSBoaWdoZXIgc2NvcmUgbWVhbnMgYmV0dGVyIHJlYWRhYmlsaXR5LCB3aXRoIGEgc2NvcmUgYmV0d2VlbiA2MCBhbmQgNjkgbGFyZ2VseSBjb25zaWRlcmVkIGFjY2VwdGFibGUuPC9wPlxyXG4gICAgICAgIDxoNT5SZWFkYWJpbGl0eSB0ZXN0IHJlc3VsdHM8L2g1PlxyXG4gICAgICAgIDxwPkFzIHdlbGwgYXMgdGhlIEZsZXNjaCBzY29yZSwgdGhlIHJlYWRhYmlsaXR5IHRlc3QgcmV0dXJucyBzZW50ZW5jZSBsZW5ndGg7IGF2ZXJhZ2Ugc3lsbGFibGVzIHBlciB3b3JkOyBhbmQgbG9uZyBvciBjb21wbGV4IHdvcmRzOzwvcD5gO1xyXG5cclxuXHJcbiAgICBjb25zdHJ1Y3RvcigkaHR0cCwgdW1iUmVxdWVzdEhlbHBlcikge1xyXG4gICAgICAgIHRoaXMuJGh0dHAgPSAkaHR0cDtcclxuICAgICAgICB0aGlzLnVtYlJlcXVlc3RIZWxwZXIgPSB1bWJSZXF1ZXN0SGVscGVyO1xyXG4gICAgfVxyXG5cclxuICAgIHJlcXVlc3QgPSAobWV0aG9kLCB1cmwsIGRhdGEpID0+XHJcbiAgICAgICAgdGhpcy51bWJSZXF1ZXN0SGVscGVyLnJlc291cmNlUHJvbWlzZShcclxuICAgICAgICAgICAgbWV0aG9kID09PSAnR0VUJyA/IHRoaXMuJGh0dHAuZ2V0KHRoaXMudXJsQmFzZSArIHVybCkgOiB0aGlzLiRodHRwLnBvc3QodGhpcy51cmxCYXNlICsgdXJsLCBkYXRhKSxcclxuICAgICAgICAgICAgJ1NvbWV0aGluZyBicm9rZSdcclxuICAgICAgICApO1xyXG5cclxuICAgIGNoZWNrID0gaWQgPT4gdGhpcy5yZXF1ZXN0KCdHRVQnLCBgQ2hlY2svJHtpZH0gYCk7XHJcblxyXG4gICAgY2hlY2tEaXJ0eSA9IGRhdGEgPT4gdGhpcy5yZXF1ZXN0KCdQT1NUJywgYENoZWNrRGlydHlgLCBkYXRhKTtcclxuXHJcbiAgICBnZXRTZXR0aW5ncyA9ICgpID0+IHRoaXMucmVxdWVzdCgnR0VUJywgYEdldFNldHRpbmdzYCk7XHJcblxyXG4gICAgZ2V0U2V0dGluZ1ZhbHVlID0gYWxpYXMgPT4gdGhpcy5yZXF1ZXN0KCdHRVQnLCBgR2V0U2V0dGluZ1ZhbHVlLyR7YWxpYXN9IGApO1xyXG5cclxuICAgIHNhdmVTZXR0aW5ncyA9IChzZXR0aW5ncywgdGFicykgPT4gdGhpcy5yZXF1ZXN0KCdQT1NUJywgYFNhdmVTZXR0aW5nc2AsIHtcclxuICAgICAgICBzZXR0aW5ncyxcclxuICAgICAgICB0YWJzXHJcbiAgICB9KTtcclxuXHJcbiAgICBnZXRIZWxwVGV4dCA9ICgpID0+IGhlbHBUZXh0O1xyXG59Il19"}